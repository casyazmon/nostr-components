(()=>{"use strict";var t,e={955:(t,e,n)=>{var r={};n.r(r),n.d(r,{OG:()=>j,My:()=>R,Ph:()=>_,lX:()=>T,Id:()=>q,fg:()=>D,qj:()=>P,aT:()=>N,lq:()=>C,z:()=>H,Q5:()=>K});const o=window.wp.blocks,i=window.wp.components,s=window.wp.blockEditor,a=window.wp.element;function c(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function u(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function f(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}const l="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,h=t=>t instanceof Uint8Array,d=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),p=(t,e)=>t<<32-e|t>>>e;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function g(t){if("string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),!h(t))throw new Error("expected Uint8Array, got "+typeof t);return t}class y{clone(){return this._cloneInto()}}function w(t){const e=e=>t().update(g(e)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function b(t=32){if(l&&"function"==typeof l.getRandomValues)return l.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class m extends y{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=d(this.buffer)}update(t){f(this);const{view:e,buffer:n,blockLen:r}=this,o=(t=g(t)).length;for(let i=0;i<o;){const s=Math.min(r-this.pos,o-i);if(s===r){const e=d(t);for(;r<=o-i;i+=r)this.process(e,i);continue}n.set(t.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){f(this),function(t,e){u(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:r,isLE:o}=this;let{pos:i}=this;e[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(n,0),i=0);for(let t=i;t<r;t++)e[t]=0;!function(t,e,n,r){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),c=r?4:0,u=r?0:4;t.setUint32(e+c,s,r),t.setUint32(e+u,a,r)}(n,r-8,BigInt(8*this.length),o),this.process(n,0);const s=d(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<c;t++)s.setUint32(4*t,l[t],o)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:r,finished:o,destroyed:i,pos:s}=this;return t.length=r,t.pos=s,t.finished=o,t.destroyed=i,r%e&&t.buffer.set(n),t}}const E=(t,e,n)=>t&e^~t&n,v=(t,e,n)=>t&e^t&n^e&n,x=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),A=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),k=new Uint32Array(64);class U extends m{constructor(){super(64,32,8,!1),this.A=0|A[0],this.B=0|A[1],this.C=0|A[2],this.D=0|A[3],this.E=0|A[4],this.F=0|A[5],this.G=0|A[6],this.H=0|A[7]}get(){const{A:t,B:e,C:n,D:r,E:o,F:i,G:s,H:a}=this;return[t,e,n,r,o,i,s,a]}set(t,e,n,r,o,i,s,a){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(t,e){for(let n=0;n<16;n++,e+=4)k[n]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=k[t-15],n=k[t-2],r=p(e,7)^p(e,18)^e>>>3,o=p(n,17)^p(n,19)^n>>>10;k[t]=o+k[t-7]+r+k[t-16]|0}let{A:n,B:r,C:o,D:i,E:s,F:a,G:c,H:u}=this;for(let t=0;t<64;t++){const e=u+(p(s,6)^p(s,11)^p(s,25))+E(s,a,c)+x[t]+k[t]|0,f=(p(n,2)^p(n,13)^p(n,22))+v(n,r,o)|0;u=c,c=a,a=s,s=i+e|0,i=o,o=r,r=n,n=e+f|0}n=n+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,r,o,i,s,a,c,u)}roundClean(){k.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const I=w(()=>new U),B=(BigInt(0),BigInt(1)),S=BigInt(2),L=t=>t instanceof Uint8Array,O=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function R(t){if(!L(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=O[t[n]];return e}function $(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return BigInt(""===t?"0":`0x${t}`)}function N(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let e=0;e<n.length;e++){const r=2*e,o=t.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[e]=i}return n}function _(t){return $(R(t))}function T(t){if(!L(t))throw new Error("Uint8Array expected");return $(R(Uint8Array.from(t).reverse()))}function C(t,e){return N(t.toString(16).padStart(2*e,"0"))}function H(t,e){return C(t,e).reverse()}function P(t,e,n){let r;if("string"==typeof e)try{r=N(e)}catch(n){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${n}`)}else{if(!L(e))throw new Error(`${t} must be hex string or Uint8Array`);r=Uint8Array.from(e)}const o=r.length;if("number"==typeof n&&o!==n)throw new Error(`${t} expected ${n} bytes, got ${o}`);return r}function q(...t){const e=new Uint8Array(t.reduce((t,e)=>t+e.length,0));let n=0;return t.forEach(t=>{if(!L(t))throw new Error("Uint8Array expected");e.set(t,n),n+=t.length}),e}const j=t=>(S<<BigInt(t-1))-B,M=t=>new Uint8Array(t),z=t=>Uint8Array.from(t);function D(t,e,n){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=M(t),o=M(t),i=0;const s=()=>{r.fill(1),o.fill(0),i=0},a=(...t)=>n(o,r,...t),c=(t=M())=>{o=a(z([0]),t),r=a(),0!==t.length&&(o=a(z([1]),t),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let t=0;const n=[];for(;t<e;){r=a();const e=r.slice();n.push(e),t+=r.length}return q(...n)};return(t,e)=>{let n;for(s(),c(t);!(n=e(u()));)c();return s(),n}}const W={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,stringOrUint8Array:t=>"string"==typeof t||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};function K(t,e,n={}){const r=(e,n,r)=>{const o=W[n];if("function"!=typeof o)throw new Error(`Invalid validator "${n}", expected function`);const i=t[e];if(!(r&&void 0===i||o(i,t)))throw new Error(`Invalid param ${String(e)}=${i} (${typeof i}), expected ${n}`)};for(const[t,n]of Object.entries(e))r(t,n,!1);for(const[t,e]of Object.entries(n))r(t,e,!0);return t}const F=BigInt(0),V=BigInt(1),Z=BigInt(2),G=BigInt(3),J=BigInt(4),Y=BigInt(5),X=BigInt(8);function Q(t,e){const n=t%e;return n>=F?n:e+n}function tt(t,e,n){if(n<=F||e<F)throw new Error("Expected power/modulo > 0");if(n===V)return F;let r=V;for(;e>F;)e&V&&(r=r*t%n),t=t*t%n,e>>=V;return r}function et(t,e,n){let r=t;for(;e-- >F;)r*=r,r%=n;return r}function nt(t,e){if(t===F||e<=F)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Q(t,e),r=e,o=F,i=V,s=V,a=F;for(;n!==F;){const t=r/n,e=r%n,c=o-s*t,u=i-a*t;r=n,n=e,o=s,i=a,s=c,a=u}if(r!==V)throw new Error("invert: does not exist");return Q(o,e)}BigInt(9),BigInt(16);const rt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ot(t,e){const n=void 0!==e?e:t.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function it(t){if("bigint"!=typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function st(t){const e=it(t);return e+Math.ceil(e/2)}class at extends y{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,function(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");c(t.outputLen),c(t.blockLen)}(t);const n=g(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(n.length>r?t.create().update(n).digest():n);for(let t=0;t<o.length;t++)o[t]^=54;this.iHash.update(o),this.oHash=t.create();for(let t=0;t<o.length;t++)o[t]^=106;this.oHash.update(o),o.fill(0)}update(t){return f(this),this.iHash.update(t),this}digestInto(t){f(this),u(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return t.finished=r,t.destroyed=o,t.blockLen=i,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ct=(t,e,n)=>new at(t,e).update(n).digest();ct.create=(t,e)=>new at(t,e);const ut=BigInt(0),ft=BigInt(1);function lt(t){return K(t.Fp,rt.reduce((t,e)=>(t[e]="function",t),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),K(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ot(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const{Ph:ht,aT:dt}=r,pt={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(t){const{Err:e}=pt;if(t.length<2||2!==t[0])throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(128&r[0])throw new e("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new e("Invalid signature integer: unnecessary leading zero");return{d:ht(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=pt,n="string"==typeof t?dt(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:o,l:i}=pt._parseInt(n.subarray(2)),{d:s,l:a}=pt._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:o,s}},hexFromSig(t){const e=t=>8&Number.parseInt(t[0],16)?"00"+t:t,n=t=>{const e=t.toString(16);return 1&e.length?`0${e}`:e},r=e(n(t.s)),o=e(n(t.r)),i=r.length/2,s=o.length/2,a=n(i),c=n(s);return`30${n(s+i+4)}02${c}${o}02${a}${r}`}},gt=BigInt(0),yt=BigInt(1),wt=(BigInt(2),BigInt(3));function bt(t){const e=function(t){const e=lt(t);return K(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:n,n:r}=e,o=n.BYTES+1,i=2*n.BYTES+1;function s(t){return Q(t,r)}function a(t){return nt(t,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:l}=function(t){const e=function(t){const e=lt(t);K(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:o}=e;if(n){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:n}=e,r=e.toBytes||((t,e,r)=>{const o=e.toAffine();return q(Uint8Array.from([4]),n.toBytes(o.x),n.toBytes(o.y))}),o=e.fromBytes||(t=>{const e=t.subarray(1);return{x:n.fromBytes(e.subarray(0,n.BYTES)),y:n.fromBytes(e.subarray(n.BYTES,2*n.BYTES))}});function i(t){const{a:r,b:o}=e,i=n.sqr(t),s=n.mul(i,t);return n.add(n.add(s,n.mul(t,r)),o)}if(!n.eql(n.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function s(t){return"bigint"==typeof t&&gt<t&&t<e.n}function a(t){if(!s(t))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(t){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:o,n:i}=e;if(n&&"bigint"!=typeof t){if(t instanceof Uint8Array&&(t=R(t)),"string"!=typeof t||!n.includes(t.length))throw new Error("Invalid key");t=t.padStart(2*r,"0")}let s;try{s="bigint"==typeof t?t:_(P("private key",t,r))}catch(e){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof t}`)}return o&&(s=Q(s,i)),a(s),s}const u=new Map;function f(t){if(!(t instanceof l))throw new Error("ProjectivePoint expected")}class l{constructor(t,e,r){if(this.px=t,this.py=e,this.pz=r,null==t||!n.isValid(t))throw new Error("x required");if(null==e||!n.isValid(e))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(t){const{x:e,y:r}=t||{};if(!t||!n.isValid(e)||!n.isValid(r))throw new Error("invalid affine point");if(t instanceof l)throw new Error("projective point not allowed");const o=t=>n.eql(t,n.ZERO);return o(e)&&o(r)?l.ZERO:new l(e,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){const e=n.invertBatch(t.map(t=>t.pz));return t.map((t,n)=>t.toAffine(e[n])).map(l.fromAffine)}static fromHex(t){const e=l.fromAffine(o(P("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return l.BASE.multiply(c(t))}_setWindowSize(t){this._WINDOW_SIZE=t,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:t,y:r}=this.toAffine();if(!n.isValid(t)||!n.isValid(r))throw new Error("bad point: x or y not FE");const o=n.sqr(r),s=i(t);if(!n.eql(o,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:t}=this.toAffine();if(n.isOdd)return!n.isOdd(t);throw new Error("Field doesn't support isOdd")}equals(t){f(t);const{px:e,py:r,pz:o}=this,{px:i,py:s,pz:a}=t,c=n.eql(n.mul(e,a),n.mul(i,o)),u=n.eql(n.mul(r,a),n.mul(s,o));return c&&u}negate(){return new l(this.px,n.neg(this.py),this.pz)}double(){const{a:t,b:r}=e,o=n.mul(r,wt),{px:i,py:s,pz:a}=this;let c=n.ZERO,u=n.ZERO,f=n.ZERO,h=n.mul(i,i),d=n.mul(s,s),p=n.mul(a,a),g=n.mul(i,s);return g=n.add(g,g),f=n.mul(i,a),f=n.add(f,f),c=n.mul(t,f),u=n.mul(o,p),u=n.add(c,u),c=n.sub(d,u),u=n.add(d,u),u=n.mul(c,u),c=n.mul(g,c),f=n.mul(o,f),p=n.mul(t,p),g=n.sub(h,p),g=n.mul(t,g),g=n.add(g,f),f=n.add(h,h),h=n.add(f,h),h=n.add(h,p),h=n.mul(h,g),u=n.add(u,h),p=n.mul(s,a),p=n.add(p,p),h=n.mul(p,g),c=n.sub(c,h),f=n.mul(p,d),f=n.add(f,f),f=n.add(f,f),new l(c,u,f)}add(t){f(t);const{px:r,py:o,pz:i}=this,{px:s,py:a,pz:c}=t;let u=n.ZERO,h=n.ZERO,d=n.ZERO;const p=e.a,g=n.mul(e.b,wt);let y=n.mul(r,s),w=n.mul(o,a),b=n.mul(i,c),m=n.add(r,o),E=n.add(s,a);m=n.mul(m,E),E=n.add(y,w),m=n.sub(m,E),E=n.add(r,i);let v=n.add(s,c);return E=n.mul(E,v),v=n.add(y,b),E=n.sub(E,v),v=n.add(o,i),u=n.add(a,c),v=n.mul(v,u),u=n.add(w,b),v=n.sub(v,u),d=n.mul(p,E),u=n.mul(g,b),d=n.add(u,d),u=n.sub(w,d),d=n.add(w,d),h=n.mul(u,d),w=n.add(y,y),w=n.add(w,y),b=n.mul(p,b),E=n.mul(g,E),w=n.add(w,b),b=n.sub(y,b),b=n.mul(p,b),E=n.add(E,b),y=n.mul(w,E),h=n.add(h,y),y=n.mul(v,E),u=n.mul(m,u),u=n.sub(u,y),y=n.mul(m,w),d=n.mul(v,d),d=n.add(d,y),new l(u,h,d)}subtract(t){return this.add(t.negate())}is0(){return this.equals(l.ZERO)}wNAF(t){return d.wNAFCached(this,u,t,t=>{const e=n.invertBatch(t.map(t=>t.pz));return t.map((t,n)=>t.toAffine(e[n])).map(l.fromAffine)})}multiplyUnsafe(t){const r=l.ZERO;if(t===gt)return r;if(a(t),t===yt)return this;const{endo:o}=e;if(!o)return d.unsafeLadder(this,t);let{k1neg:i,k1:s,k2neg:c,k2:u}=o.splitScalar(t),f=r,h=r,p=this;for(;s>gt||u>gt;)s&yt&&(f=f.add(p)),u&yt&&(h=h.add(p)),p=p.double(),s>>=yt,u>>=yt;return i&&(f=f.negate()),c&&(h=h.negate()),h=new l(n.mul(h.px,o.beta),h.py,h.pz),f.add(h)}multiply(t){a(t);let r,o,i=t;const{endo:s}=e;if(s){const{k1neg:t,k1:e,k2neg:a,k2:c}=s.splitScalar(i);let{p:u,f}=this.wNAF(e),{p:h,f:p}=this.wNAF(c);u=d.constTimeNegate(t,u),h=d.constTimeNegate(a,h),h=new l(n.mul(h.px,s.beta),h.py,h.pz),r=u.add(h),o=f.add(p)}else{const{p:t,f:e}=this.wNAF(i);r=t,o=e}return l.normalizeZ([r,o])[0]}multiplyAndAddUnsafe(t,e,n){const r=l.BASE,o=(t,e)=>e!==gt&&e!==yt&&t.equals(r)?t.multiply(e):t.multiplyUnsafe(e),i=o(this,e).add(o(t,n));return i.is0()?void 0:i}toAffine(t){const{px:e,py:r,pz:o}=this,i=this.is0();null==t&&(t=i?n.ONE:n.inv(o));const s=n.mul(e,t),a=n.mul(r,t),c=n.mul(o,t);if(i)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:t,isTorsionFree:n}=e;if(t===yt)return!0;if(n)return n(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:t,clearCofactor:n}=e;return t===yt?this:n?n(l,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return this.assertValidity(),r(l,this,t)}toHex(t=!0){return R(this.toRawBytes(t))}}l.BASE=new l(e.Gx,e.Gy,n.ONE),l.ZERO=new l(n.ZERO,n.ONE,n.ZERO);const h=e.nBitLength,d=function(t,e){const n=(t,e)=>{const n=e.negate();return t?n:e},r=t=>({windows:Math.ceil(e/t)+1,windowSize:2**(t-1)});return{constTimeNegate:n,unsafeLadder(e,n){let r=t.ZERO,o=e;for(;n>ut;)n&ft&&(r=r.add(o)),o=o.double(),n>>=ft;return r},precomputeWindow(t,e){const{windows:n,windowSize:o}=r(e),i=[];let s=t,a=s;for(let t=0;t<n;t++){a=s,i.push(a);for(let t=1;t<o;t++)a=a.add(s),i.push(a);s=a.double()}return i},wNAF(e,o,i){const{windows:s,windowSize:a}=r(e);let c=t.ZERO,u=t.BASE;const f=BigInt(2**e-1),l=2**e,h=BigInt(e);for(let t=0;t<s;t++){const e=t*a;let r=Number(i&f);i>>=h,r>a&&(r-=l,i+=ft);const s=e,d=e+Math.abs(r)-1,p=t%2!=0,g=r<0;0===r?u=u.add(n(p,o[s])):c=c.add(n(g,o[d]))}return{p:c,f:u}},wNAFCached(t,e,n,r){const o=t._WINDOW_SIZE||1;let i=e.get(t);return i||(i=this.precomputeWindow(t,o),1!==o&&e.set(t,r(i))),this.wNAF(o,i,n)}}}(l,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:s}}({...e,toBytes(t,e,r){const o=e.toAffine(),i=n.toBytes(o.x),s=q;return r?s(Uint8Array.from([e.hasEvenY()?2:3]),i):s(Uint8Array.from([4]),i,n.toBytes(o.y))},fromBytes(t){const e=t.length,r=t[0],s=t.subarray(1);if(e!==o||2!==r&&3!==r){if(e===i&&4===r)return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))};throw new Error(`Point of length ${e} was invalid. Expected ${o} compressed bytes or ${i} uncompressed bytes`)}{const t=_(s);if(!(gt<(a=t)&&a<n.ORDER))throw new Error("Point is not on curve");const e=f(t);let o=n.sqrt(e);return!(1&~r)!=((o&yt)===yt)&&(o=n.neg(o)),{x:t,y:o}}var a}}),h=t=>R(C(t,e.nByteLength));function d(t){return t>r>>yt}const p=(t,e,n)=>_(t.slice(e,n));class g{constructor(t,e,n){this.r=t,this.s=e,this.recovery=n,this.assertValidity()}static fromCompact(t){const n=e.nByteLength;return t=P("compactSignature",t,2*n),new g(p(t,0,n),p(t,n,2*n))}static fromDER(t){const{r:e,s:n}=pt.toSig(P("DER",t));return new g(e,n)}assertValidity(){if(!l(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!l(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(t){return new g(this.r,this.s,t)}recoverPublicKey(t){const{r,s:o,recovery:i}=this,u=m(P("msgHash",t));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const f=2===i||3===i?r+e.n:r;if(f>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const l=1&i?"03":"02",d=c.fromHex(l+h(f)),p=a(f),g=s(-u*p),y=s(o*p),w=c.BASE.multiplyAndAddUnsafe(d,g,y);if(!w)throw new Error("point at infinify");return w.assertValidity(),w}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return N(this.toDERHex())}toDERHex(){return pt.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return N(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const y={isValidPrivateKey(t){try{return u(t),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const t=st(e.n);return function(t,e,n=!1){const r=t.length,o=it(e),i=st(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const s=Q(n?_(t):T(t),e-V)+V;return n?H(s,o):C(s,o)}(e.randomBytes(t),e.n)},precompute:(t=8,e=c.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)};function w(t){const e=t instanceof Uint8Array,n="string"==typeof t,r=(e||n)&&t.length;return e?r===o||r===i:n?r===2*o||r===2*i:t instanceof c}const b=e.bits2int||function(t){const n=_(t),r=8*t.length-e.nBitLength;return r>0?n>>BigInt(r):n},m=e.bits2int_modN||function(t){return s(b(t))},E=j(e.nBitLength);function v(t){if("bigint"!=typeof t)throw new Error("bigint expected");if(!(gt<=t&&t<E))throw new Error(`bigint expected < 2^${e.nBitLength}`);return C(t,e.nByteLength)}const x={lowS:e.lowS,prehash:!1},A={lowS:e.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t,e=!0){return c.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,n=!0){if(w(t))throw new Error("first arg must be private key");if(!w(e))throw new Error("second arg must be public key");return c.fromHex(e).multiply(u(t)).toRawBytes(n)},sign:function(t,r,o=x){const{seed:i,k2sig:f}=function(t,r,o=x){if(["recovered","canonical"].some(t=>t in o))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:f}=e;let{lowS:h,prehash:p,extraEntropy:y}=o;null==h&&(h=!0),t=P("msgHash",t),p&&(t=P("prehashed msgHash",i(t)));const w=m(t),E=u(r),A=[v(E),v(w)];if(null!=y){const t=!0===y?f(n.BYTES):y;A.push(P("extraEntropy",t))}const k=q(...A),U=w;return{seed:k,k2sig:function(t){const e=b(t);if(!l(e))return;const n=a(e),r=c.BASE.multiply(e).toAffine(),o=s(r.x);if(o===gt)return;const i=s(n*s(U+o*E));if(i===gt)return;let u=(r.x===o?0:2)|Number(r.y&yt),f=i;return h&&d(i)&&(f=function(t){return d(t)?s(-t):t}(i),u^=1),new g(o,f,u)}}}(t,r,o),h=e;return D(h.hash.outputLen,h.nByteLength,h.hmac)(i,f)},verify:function(t,n,r,o=A){const i=t;if(n=P("msgHash",n),r=P("publicKey",r),"strict"in o)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:f}=o;let l,h;try{if("string"==typeof i||i instanceof Uint8Array)try{l=g.fromDER(i)}catch(t){if(!(t instanceof pt.Err))throw t;l=g.fromCompact(i)}else{if("object"!=typeof i||"bigint"!=typeof i.r||"bigint"!=typeof i.s)throw new Error("PARSE");{const{r:t,s:e}=i;l=new g(t,e)}}h=c.fromHex(r)}catch(t){if("PARSE"===t.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&l.hasHighS())return!1;f&&(n=e.hash(n));const{r:d,s:p}=l,y=m(n),w=a(p),b=s(y*w),E=s(d*w),v=c.BASE.multiplyAndAddUnsafe(h,b,E)?.toAffine();return!!v&&s(v.x)===d},ProjectivePoint:c,Signature:g,utils:y}}function mt(t){return{hash:t,hmac:(e,...n)=>ct(t,e,function(...t){const e=new Uint8Array(t.reduce((t,e)=>t+e.length,0));let n=0;return t.forEach(t=>{if(!h(t))throw new Error("Uint8Array expected");e.set(t,n),n+=t.length}),e}(...n)),randomBytes:b}}BigInt(4);const Et=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),vt=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),xt=BigInt(1),At=BigInt(2),kt=(t,e)=>(t+e/At)/e;function Ut(t){const e=Et,n=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,f=u*u*t%e,l=et(f,n,e)*f%e,h=et(l,n,e)*f%e,d=et(h,At,e)*u%e,p=et(d,o,e)*d%e,g=et(p,i,e)*p%e,y=et(g,a,e)*g%e,w=et(y,c,e)*y%e,b=et(w,a,e)*g%e,m=et(b,n,e)*f%e,E=et(m,s,e)*p%e,v=et(E,r,e)*u%e,x=et(v,At,e);if(!It.eql(It.sqr(x),t))throw new Error("Cannot find square root");return x}const It=function(t,e,n=!1,r={}){if(t<=F)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:o,nByteLength:i}=ot(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=function(t){if(t%J===G){const e=(t+V)/J;return function(t,n){const r=t.pow(n,e);if(!t.eql(t.sqr(r),n))throw new Error("Cannot find square root");return r}}if(t%X===Y){const e=(t-Y)/X;return function(t,n){const r=t.mul(n,Z),o=t.pow(r,e),i=t.mul(n,o),s=t.mul(t.mul(i,Z),o),a=t.mul(i,t.sub(s,t.ONE));if(!t.eql(t.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(t){const e=(t-V)/Z;let n,r,o;for(n=t-V,r=0;n%Z===F;n/=Z,r++);for(o=Z;o<t&&tt(o,e,t)!==t-V;o++);if(1===r){const e=(t+V)/J;return function(t,n){const r=t.pow(n,e);if(!t.eql(t.sqr(r),n))throw new Error("Cannot find square root");return r}}const i=(n+V)/Z;return function(t,s){if(t.pow(s,e)===t.neg(t.ONE))throw new Error("Cannot find square root");let a=r,c=t.pow(t.mul(t.ONE,o),n),u=t.pow(s,i),f=t.pow(s,n);for(;!t.eql(f,t.ONE);){if(t.eql(f,t.ZERO))return t.ZERO;let e=1;for(let n=t.sqr(f);e<a&&!t.eql(n,t.ONE);e++)n=t.sqr(n);const n=t.pow(c,V<<BigInt(a-e-1));c=t.sqr(n),u=t.mul(u,n),f=t.mul(f,c),a=e}return u}}(t)}(t),a=Object.freeze({ORDER:t,BITS:o,BYTES:i,MASK:j(o),ZERO:F,ONE:V,create:e=>Q(e,t),isValid:e=>{if("bigint"!=typeof e)throw new Error("Invalid field element: expected bigint, got "+typeof e);return F<=e&&e<t},is0:t=>t===F,isOdd:t=>(t&V)===V,neg:e=>Q(-e,t),eql:(t,e)=>t===e,sqr:e=>Q(e*e,t),add:(e,n)=>Q(e+n,t),sub:(e,n)=>Q(e-n,t),mul:(e,n)=>Q(e*n,t),pow:(t,e)=>function(t,e,n){if(n<F)throw new Error("Expected power > 0");if(n===F)return t.ONE;if(n===V)return e;let r=t.ONE,o=e;for(;n>F;)n&V&&(r=t.mul(r,o)),o=t.sqr(o),n>>=V;return r}(a,t,e),div:(e,n)=>Q(e*nt(n,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>nt(e,t),sqrt:r.sqrt||(t=>s(a,t)),invertBatch:t=>function(t,e){const n=new Array(e.length),r=e.reduce((e,r,o)=>t.is0(r)?e:(n[o]=e,t.mul(e,r)),t.ONE),o=t.inv(r);return e.reduceRight((e,r,o)=>t.is0(r)?e:(n[o]=t.mul(e,n[o]),t.mul(e,r)),o),n}(a,t),cmov:(t,e,n)=>n?e:t,toBytes:t=>n?H(t,i):C(t,i),fromBytes:t=>{if(t.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${t.length}`);return n?T(t):_(t)}});return Object.freeze(a)}(Et,void 0,void 0,{sqrt:Ut}),Bt=function(t,e){const n=e=>bt({...t,...mt(e)});return Object.freeze({...n(e),create:n})}({a:BigInt(0),b:BigInt(7),Fp:It,n:vt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=vt,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-xt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,s=BigInt("0x100000000000000000000000000000000"),a=kt(i*t,e),c=kt(-r*t,e);let u=Q(t-a*n-c*o,e),f=Q(-a*r-c*i,e);const l=u>s,h=f>s;if(l&&(u=e-u),h&&(f=e-f),u>s||f>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:l,k1:u,k2neg:h,k2:f}}}},I),St=BigInt(0),Lt=t=>"bigint"==typeof t&&St<t&&t<Et,Ot={};function Rt(t,...e){let n=Ot[t];if(void 0===n){const e=I(Uint8Array.from(t,t=>t.charCodeAt(0)));n=q(e,e),Ot[t]=n}return I(q(n,...e))}const $t=t=>t.toRawBytes(!0).slice(1),Nt=t=>C(t,32),_t=t=>Q(t,Et),Tt=t=>Q(t,vt),Ct=Bt.ProjectivePoint;function Ht(t){let e=Bt.utils.normPrivateKeyToScalar(t),n=Ct.fromPrivateKey(e);return{scalar:n.hasEvenY()?e:Tt(-e),bytes:$t(n)}}function Pt(t){if(!Lt(t))throw new Error("bad x: need 0 < x < p");const e=_t(t*t);let n=Ut(_t(e*t+BigInt(7)));n%At!==St&&(n=_t(-n));const r=new Ct(t,n,xt);return r.assertValidity(),r}function qt(...t){return Tt(_(Rt("BIP0340/challenge",...t)))}function jt(t){return Ht(t).bytes}function Mt(t,e,n=b(32)){const r=P("message",t),{bytes:o,scalar:i}=Ht(e),s=P("auxRand",n,32),a=Nt(i^_(Rt("BIP0340/aux",s))),c=Rt("BIP0340/nonce",a,o,r),u=Tt(_(c));if(u===St)throw new Error("sign failed: k is zero");const{bytes:f,scalar:l}=Ht(u),h=qt(f,o,r),d=new Uint8Array(64);if(d.set(f,0),d.set(Nt(Tt(l+h*i)),32),!zt(d,r,o))throw new Error("sign: Invalid signature produced");return d}function zt(t,e,n){const r=P("signature",t,64),o=P("message",e),i=P("publicKey",n,32);try{const t=Pt(_(i)),e=_(r.subarray(0,32));if(!Lt(e))return!1;const n=_(r.subarray(32,64));if(!("bigint"==typeof(u=n)&&St<u&&u<vt))return!1;const f=qt(Nt(e),$t(t),o),l=(s=t,a=n,c=Tt(-f),Ct.BASE.multiplyAndAddUnsafe(s,a,c));return!(!l||!l.hasEvenY()||l.toAffine().x!==e)}catch(t){return!1}var s,a,c,u}const Dt=(()=>({getPublicKey:jt,sign:Mt,verify:zt,utils:{randomPrivateKey:Bt.utils.randomPrivateKey,lift_x:Pt,pointToBytes:$t,numberToBytesBE:C,bytesToNumberBE:_,taggedHash:Rt,mod:Q}}))(),Wt="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Kt=t=>t instanceof Uint8Array,Ft=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Vt=(t,e)=>t<<32-e|t>>>e;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const Zt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Gt(t){if(!Kt(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=Zt[t[n]];return e}function Jt(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let e=0;e<n.length;e++){const r=2*e,o=t.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[e]=i}return n}function Yt(t){if("string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),!Kt(t))throw new Error("expected Uint8Array, got "+typeof t);return t}function Xt(...t){const e=new Uint8Array(t.reduce((t,e)=>t+e.length,0));let n=0;return t.forEach(t=>{if(!Kt(t))throw new Error("Uint8Array expected");e.set(t,n),n+=t.length}),e}class Qt{clone(){return this._cloneInto()}}function te(t){const e=e=>t().update(Yt(e)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function ee(t=32){if(Wt&&"function"==typeof Wt.getRandomValues)return Wt.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function ne(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function re(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}const oe={number:ne,bool:function(t){if("boolean"!=typeof t)throw new Error(`Expected boolean, not ${t}`)},bytes:re,hash:function(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");ne(t.outputLen),ne(t.blockLen)},exists:function(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")},output:function(t,e){re(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}};class ie extends Qt{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ft(this.buffer)}update(t){oe.exists(this);const{view:e,buffer:n,blockLen:r}=this,o=(t=Yt(t)).length;for(let i=0;i<o;){const s=Math.min(r-this.pos,o-i);if(s===r){const e=Ft(t);for(;r<=o-i;i+=r)this.process(e,i);continue}n.set(t.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){oe.exists(this),oe.output(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:r,isLE:o}=this;let{pos:i}=this;e[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(n,0),i=0);for(let t=i;t<r;t++)e[t]=0;!function(t,e,n,r){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),c=r?4:0,u=r?0:4;t.setUint32(e+c,s,r),t.setUint32(e+u,a,r)}(n,r-8,BigInt(8*this.length),o),this.process(n,0);const s=Ft(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<c;t++)s.setUint32(4*t,u[t],o)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:r,finished:o,destroyed:i,pos:s}=this;return t.length=r,t.pos=s,t.finished=o,t.destroyed=i,r%e&&t.buffer.set(n),t}}const se=(t,e,n)=>t&e^~t&n,ae=(t,e,n)=>t&e^t&n^e&n,ce=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ue=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),fe=new Uint32Array(64);class le extends ie{constructor(){super(64,32,8,!1),this.A=0|ue[0],this.B=0|ue[1],this.C=0|ue[2],this.D=0|ue[3],this.E=0|ue[4],this.F=0|ue[5],this.G=0|ue[6],this.H=0|ue[7]}get(){const{A:t,B:e,C:n,D:r,E:o,F:i,G:s,H:a}=this;return[t,e,n,r,o,i,s,a]}set(t,e,n,r,o,i,s,a){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(t,e){for(let n=0;n<16;n++,e+=4)fe[n]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=fe[t-15],n=fe[t-2],r=Vt(e,7)^Vt(e,18)^e>>>3,o=Vt(n,17)^Vt(n,19)^n>>>10;fe[t]=o+fe[t-7]+r+fe[t-16]|0}let{A:n,B:r,C:o,D:i,E:s,F:a,G:c,H:u}=this;for(let t=0;t<64;t++){const e=u+(Vt(s,6)^Vt(s,11)^Vt(s,25))+se(s,a,c)+ce[t]+fe[t]|0,f=(Vt(n,2)^Vt(n,13)^Vt(n,22))+ae(n,r,o)|0;u=c,c=a,a=s,s=i+e|0,i=o,o=r,r=n,n=e+f|0}n=n+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,r,o,i,s,a,c,u)}roundClean(){fe.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class he extends le{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const de=te(()=>new le);function pe(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}function ge(...t){const e=(t,e)=>n=>t(e(n)),n=Array.from(t).reverse().reduce((t,n)=>t?e(t,n.encode):n.encode,void 0),r=t.reduce((t,n)=>t?e(t,n.decode):n.decode,void 0);return{encode:n,decode:r}}function ye(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&"number"!=typeof e[0])throw new Error("alphabet.encode input should be an array of numbers");return e.map(e=>{if(pe(e),e<0||e>=t.length)throw new Error(`Digit index outside alphabet: ${e} (alphabet: ${t.length})`);return t[e]})},decode:e=>{if(!Array.isArray(e)||e.length&&"string"!=typeof e[0])throw new Error("alphabet.decode input should be array of strings");return e.map(e=>{if("string"!=typeof e)throw new Error(`alphabet.decode: not string element=${e}`);const n=t.indexOf(e);if(-1===n)throw new Error(`Unknown letter: "${e}". Allowed: ${t}`);return n})}}}function we(t=""){if("string"!=typeof t)throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&"string"!=typeof e[0])throw new Error("join.encode input should be array of strings");for(let t of e)if("string"!=typeof t)throw new Error(`join.encode: non-string input=${t}`);return e.join(t)},decode:e=>{if("string"!=typeof e)throw new Error("join.decode input should be string");return e.split(t)}}}function be(t,e="="){if(pe(t),"string"!=typeof e)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let t of n)if("string"!=typeof t)throw new Error(`padding.encode: non-string input=${t}`);for(;n.length*t%8;)n.push(e);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let t of n)if("string"!=typeof t)throw new Error(`padding.decode: non-string input=${t}`);let r=n.length;if(r*t%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if(!((r-1)*t%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function me(t){if("function"!=typeof t)throw new Error("normalize fn should be function");return{encode:t=>t,decode:e=>t(e)}}function Ee(t,e,n){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let r=0;const o=[],i=Array.from(t);for(i.forEach(t=>{if(pe(t),t<0||t>=e)throw new Error(`Wrong integer: ${t}`)});;){let t=0,s=!0;for(let o=r;o<i.length;o++){const a=i[o],c=e*t+a;if(!Number.isSafeInteger(c)||e*t/e!==t||c-a!==e*t)throw new Error("convertRadix: carry overflow");if(t=c%n,i[o]=Math.floor(c/n),!Number.isSafeInteger(i[o])||i[o]*n+t!==c)throw new Error("convertRadix: carry overflow");s&&(i[o]?s=!1:r=o)}if(o.push(t),s)break}for(let e=0;e<t.length-1&&0===t[e];e++)o.push(0);return o.reverse()}te(()=>new he);const ve=(t,e)=>e?ve(e,t%e):t,xe=(t,e)=>t+(e-ve(t,e));function Ae(t,e,n,r){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(xe(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${xe(e,n)}`);let o=0,i=0;const s=2**n-1,a=[];for(const r of t){if(pe(r),r>=2**e)throw new Error(`convertRadix2: invalid data word=${r} from=${e}`);if(o=o<<e|r,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=n;i-=n)a.push((o>>i-n&s)>>>0);o&=2**i-1}if(o=o<<n-i&s,!r&&i>=e)throw new Error("Excess padding");if(!r&&o)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&a.push(o>>>0),a}function ke(t,e=!1){if(pe(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(xe(8,t)>32||xe(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Ae(Array.from(n),8,t,!e)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Ae(n,t,8,e))}}}function Ue(t){if("function"!=typeof t)throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch(t){}}}ge(ke(4),ye("0123456789ABCDEF"),we("")),ge(ke(5),ye("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),be(5),we(""));const Ie=(ge(ke(5),ye("0123456789ABCDEFGHIJKLMNOPQRSTUV"),be(5),we("")),ge(ke(5),ye("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),we(""),me(t=>t.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),ge(ke(6),ye("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),be(6),we(""))),Be=(ge(ke(6),ye("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),be(6),we("")),t=>{return ge((pe(e=58),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Ee(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Ee(t,e,256))}}),ye(t),we(""));var e}),Se=(Be("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Be("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),Be("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),ge(ye("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),we(""))),Le=[996825010,642813549,513874426,1027748829,705979059];function Oe(t){const e=t>>25;let n=(33554431&t)<<5;for(let t=0;t<Le.length;t++)1==(e>>t&1)&&(n^=Le[t]);return n}function Re(t,e,n=1){const r=t.length;let o=1;for(let e=0;e<r;e++){const n=t.charCodeAt(e);if(n<33||n>126)throw new Error(`Invalid prefix (${t})`);o=Oe(o)^n>>5}o=Oe(o);for(let e=0;e<r;e++)o=Oe(o)^31&t.charCodeAt(e);for(let t of e)o=Oe(o)^t;for(let t=0;t<6;t++)o=Oe(o);return o^=n,Se.encode(Ae([o%2**30],30,5,!1))}function $e(t){const e="bech32"===t?1:734539939,n=ke(5),r=n.decode,o=n.encode,i=Ue(r);function s(t,n=90){if("string"!=typeof t)throw new Error("bech32.decode input should be string, not "+typeof t);if(t.length<8||!1!==n&&t.length>n)throw new TypeError(`Wrong string length: ${t.length} (${t}). Expected (8..${n})`);const r=t.toLowerCase();if(t!==r&&t!==t.toUpperCase())throw new Error("String must be lowercase or uppercase");const o=(t=r).lastIndexOf("1");if(0===o||-1===o)throw new Error('Letter "1" must be present between prefix and data only');const i=t.slice(0,o),s=t.slice(o+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=Se.decode(s).slice(0,-6),c=Re(i,a,e);if(!s.endsWith(c))throw new Error(`Invalid checksum in ${t}: expected "${c}"`);return{prefix:i,words:a}}return{encode:function(t,n,r=90){if("string"!=typeof t)throw new Error("bech32.encode prefix should be string, not "+typeof t);if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof n);const o=t.length+7+n.length;if(!1!==r&&o>r)throw new TypeError(`Length ${o} exceeds limit ${r}`);return`${t=t.toLowerCase()}1${Se.encode(n)}${Re(t,n,e)}`},decode:s,decodeToBytes:function(t){const{prefix:e,words:n}=s(t,!1);return{prefix:e,words:n,bytes:r(n)}},decodeUnsafe:Ue(s),fromWords:r,fromWordsUnsafe:i,toWords:o}}const Ne=$e("bech32");$e("bech32m");function _e(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function Te(t){if("boolean"!=typeof t)throw new Error(`boolean expected, not ${t}`)}function Ce(t){return t instanceof Uint8Array||null!=t&&"object"==typeof t&&"Uint8Array"===t.constructor.name}function He(t,...e){if(!Ce(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function Pe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function qe(t,e){He(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}ge(ke(4),ye("0123456789abcdef"),we(""),me(t=>{if("string"!=typeof t||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()}));const je=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),Me=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),ze=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function De(t){if("string"==typeof t)t=function(t){if("string"!=typeof t)throw new Error("string expected, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t);else{if(!Ce(t))throw new Error("Uint8Array expected, got "+typeof t);t=t.slice()}return t}function We(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return 0===n}const Ke=(t,e)=>(Object.assign(e,t),e);function Fe(t,e,n,r){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),c=r?4:0,u=r?0:4;t.setUint32(e+c,s,r),t.setUint32(e+u,a,r)}const Ve=16,Ze=new Uint8Array(16),Ge=Me(Ze),Je=(t,e,n,r)=>({s3:n<<31|r>>>1,s2:e<<31|n>>>1,s1:t<<31|e>>>1,s0:t>>>1^225<<24&-(1&r)}),Ye=t=>(t>>>0&255)<<24|(t>>>8&255)<<16|(t>>>16&255)<<8|t>>>24&255;class Xe{constructor(t,e){this.blockLen=Ve,this.outputLen=Ve,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,He(t=De(t),16);const n=ze(t);let r=n.getUint32(0,!1),o=n.getUint32(4,!1),i=n.getUint32(8,!1),s=n.getUint32(12,!1);const a=[];for(let t=0;t<128;t++)a.push({s0:Ye(r),s1:Ye(o),s2:Ye(i),s3:Ye(s)}),({s0:r,s1:o,s2:i,s3:s}=Je(r,o,i,s));const c=(t=>t>65536?8:t>1024?4:2)(e||1024);if(![1,2,4,8].includes(c))throw new Error(`ghash: wrong window size=${c}, should be 2, 4 or 8`);this.W=c;const u=128/c,f=this.windowSize=2**c,l=[];for(let t=0;t<u;t++)for(let e=0;e<f;e++){let n=0,r=0,o=0,i=0;for(let s=0;s<c;s++){if(!(e>>>c-s-1&1))continue;const{s0:u,s1:f,s2:l,s3:h}=a[c*t+s];n^=u,r^=f,o^=l,i^=h}l.push({s0:n,s1:r,s2:o,s3:i})}this.t=l}_updateBlock(t,e,n,r){t^=this.s0,e^=this.s1,n^=this.s2,r^=this.s3;const{W:o,t:i,windowSize:s}=this;let a=0,c=0,u=0,f=0;const l=(1<<o)-1;let h=0;for(const d of[t,e,n,r])for(let t=0;t<4;t++){const e=d>>>8*t&255;for(let t=8/o-1;t>=0;t--){const n=e>>>o*t&l,{s0:r,s1:d,s2:p,s3:g}=i[h*s+n];a^=r,c^=d,u^=p,f^=g,h+=1}}this.s0=a,this.s1=c,this.s2=u,this.s3=f}update(t){t=De(t),Pe(this);const e=Me(t),n=Math.floor(t.length/Ve),r=t.length%Ve;for(let t=0;t<n;t++)this._updateBlock(e[4*t+0],e[4*t+1],e[4*t+2],e[4*t+3]);return r&&(Ze.set(t.subarray(n*Ve)),this._updateBlock(Ge[0],Ge[1],Ge[2],Ge[3]),Ge.fill(0)),this}destroy(){const{t}=this;for(const e of t)e.s0=0,e.s1=0,e.s2=0,e.s3=0}digestInto(t){Pe(this),qe(t,this),this.finished=!0;const{s0:e,s1:n,s2:r,s3:o}=this,i=Me(t);return i[0]=e,i[1]=n,i[2]=r,i[3]=o,t}digest(){const t=new Uint8Array(Ve);return this.digestInto(t),this.destroy(),t}}class Qe extends Xe{constructor(t,e){const n=function(t){t.reverse();const e=1&t[15];let n=0;for(let e=0;e<t.length;e++){const r=t[e];t[e]=r>>>1|n,n=(1&r)<<7}return t[0]^=225&-e,t}((t=De(t)).slice());super(n,e),n.fill(0)}update(t){t=De(t),Pe(this);const e=Me(t),n=t.length%Ve,r=Math.floor(t.length/Ve);for(let t=0;t<r;t++)this._updateBlock(Ye(e[4*t+3]),Ye(e[4*t+2]),Ye(e[4*t+1]),Ye(e[4*t+0]));return n&&(Ze.set(t.subarray(r*Ve)),this._updateBlock(Ye(Ge[3]),Ye(Ge[2]),Ye(Ge[1]),Ye(Ge[0])),Ge.fill(0)),this}digestInto(t){Pe(this),qe(t,this),this.finished=!0;const{s0:e,s1:n,s2:r,s3:o}=this,i=Me(t);return i[0]=e,i[1]=n,i[2]=r,i[3]=o,t.reverse()}}function tn(t){const e=(e,n)=>t(n,e.length).update(De(e)).digest(),n=t(new Uint8Array(16),0);return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=(e,n)=>t(e,n),e}const en=tn((t,e)=>new Xe(t,e)),nn=tn((t,e)=>new Qe(t,e)),rn=16,on=new Uint8Array(rn);function sn(t){return t<<1^283&-(t>>7)}function an(t,e){let n=0;for(;e>0;e>>=1)n^=t&-(1&e),t=sn(t);return n}const cn=(()=>{let t=new Uint8Array(256);for(let e=0,n=1;e<256;e++,n^=sn(n))t[e]=n;const e=new Uint8Array(256);e[0]=99;for(let n=0;n<255;n++){let r=t[255-n];r|=r<<8,e[t[n]]=255&(r^r>>4^r>>5^r>>6^r>>7^99)}return e})(),un=cn.map((t,e)=>cn.indexOf(e)),fn=t=>t<<24|t>>>8,ln=t=>t<<8|t>>>24;function hn(t,e){if(256!==t.length)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((n,r)=>e(t[r])),r=n.map(ln),o=r.map(ln),i=o.map(ln),s=new Uint32Array(65536),a=new Uint32Array(65536),c=new Uint16Array(65536);for(let e=0;e<256;e++)for(let u=0;u<256;u++){const f=256*e+u;s[f]=n[e]^r[u],a[f]=o[e]^i[u],c[f]=t[e]<<8|t[u]}return{sbox:t,sbox2:c,T0:n,T1:r,T2:o,T3:i,T01:s,T23:a}}const dn=hn(cn,t=>an(t,3)<<24|t<<16|t<<8|an(t,2)),pn=hn(un,t=>an(t,11)<<24|an(t,13)<<16|an(t,9)<<8|an(t,14)),gn=(()=>{const t=new Uint8Array(16);for(let e=0,n=1;e<16;e++,n=sn(n))t[e]=n;return t})();function yn(t){He(t);const e=t.length;if(![16,24,32].includes(e))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${e}`);const{sbox2:n}=dn,r=Me(t),o=r.length,i=t=>mn(n,t,t,t,t),s=new Uint32Array(e+28);s.set(r);for(let t=o;t<s.length;t++){let e=s[t-1];t%o===0?e=i(fn(e))^gn[t/o-1]:o>6&&t%o===4&&(e=i(e)),s[t]=s[t-o]^e}return s}function wn(t){const e=yn(t),n=e.slice(),r=e.length,{sbox2:o}=dn,{T0:i,T1:s,T2:a,T3:c}=pn;for(let t=0;t<r;t+=4)for(let o=0;o<4;o++)n[t+o]=e[r-t-4+o];e.fill(0);for(let t=4;t<r-4;t++){const e=n[t],r=mn(o,e,e,e,e);n[t]=i[255&r]^s[r>>>8&255]^a[r>>>16&255]^c[r>>>24]}return n}function bn(t,e,n,r,o,i){return t[n<<8&65280|r>>>8&255]^e[o>>>8&65280|i>>>24&255]}function mn(t,e,n,r,o){return t[255&e|65280&n]|t[r>>>16&255|o>>>16&65280]<<16}function En(t,e,n,r,o){const{sbox2:i,T01:s,T23:a}=dn;let c=0;e^=t[c++],n^=t[c++],r^=t[c++],o^=t[c++];const u=t.length/4-2;for(let i=0;i<u;i++){const i=t[c++]^bn(s,a,e,n,r,o),u=t[c++]^bn(s,a,n,r,o,e),f=t[c++]^bn(s,a,r,o,e,n),l=t[c++]^bn(s,a,o,e,n,r);e=i,n=u,r=f,o=l}return{s0:t[c++]^mn(i,e,n,r,o),s1:t[c++]^mn(i,n,r,o,e),s2:t[c++]^mn(i,r,o,e,n),s3:t[c++]^mn(i,o,e,n,r)}}function vn(t,e,n,r,o){const{sbox2:i,T01:s,T23:a}=pn;let c=0;e^=t[c++],n^=t[c++],r^=t[c++],o^=t[c++];const u=t.length/4-2;for(let i=0;i<u;i++){const i=t[c++]^bn(s,a,e,o,r,n),u=t[c++]^bn(s,a,n,e,o,r),f=t[c++]^bn(s,a,r,n,e,o),l=t[c++]^bn(s,a,o,r,n,e);e=i,n=u,r=f,o=l}return{s0:t[c++]^mn(i,e,o,r,n),s1:t[c++]^mn(i,n,e,o,r),s2:t[c++]^mn(i,r,n,e,o),s3:t[c++]^mn(i,o,r,n,e)}}function xn(t,e){if(!e)return new Uint8Array(t);if(He(e),e.length<t)throw new Error(`aes: wrong destination length, expected at least ${t}, got: ${e.length}`);return e}function An(t,e,n,r,o){He(n,rn),He(r),o=xn(r.length,o);const i=n,s=Me(i),a=ze(i),c=Me(r),u=Me(o),f=e?0:12,l=r.length;let h=a.getUint32(f,e),{s0:d,s1:p,s2:g,s3:y}=En(t,s[0],s[1],s[2],s[3]);for(let n=0;n+4<=c.length;n+=4)u[n+0]=c[n+0]^d,u[n+1]=c[n+1]^p,u[n+2]=c[n+2]^g,u[n+3]=c[n+3]^y,h=h+1>>>0,a.setUint32(f,h,e),({s0:d,s1:p,s2:g,s3:y}=En(t,s[0],s[1],s[2],s[3]));const w=rn*Math.floor(c.length/4);if(w<l){const t=new Uint32Array([d,p,g,y]),e=je(t);for(let t=w,n=0;t<l;t++,n++)o[t]=r[t]^e[n]}return o}function kn(t){if(He(t),t.length%rn!==0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16")}function Un(t,e,n){let r=t.length;const o=r%rn;if(!e&&0!==o)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const i=Me(t);if(e){let t=rn-o;t||(t=rn),r+=t}const s=xn(r,n);return{b:i,o:Me(s),out:s}}function In(t,e){if(!e)return t;const n=t.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=t[n-1];if(r<=0||r>16)throw new Error(`aes/pcks5: wrong padding byte: ${r}`);const o=t.subarray(0,-r);for(let e=0;e<r;e++)if(t[n-e-1]!==r)throw new Error("aes/pcks5: wrong padding");return o}function Bn(t){const e=new Uint8Array(16),n=Me(e);e.set(t);const r=rn-t.length;for(let t=rn-r;t<rn;t++)e[t]=r;return n}Ke({blockSize:16,nonceLength:16},function(t,e){function n(n,r){const o=yn(t),i=e.slice(),s=function(t,e,n,r){He(e,rn),He(n);const o=n.length;r=xn(o,r);const i=e,s=Me(i);let{s0:a,s1:c,s2:u,s3:f}=En(t,s[0],s[1],s[2],s[3]);const l=Me(n),h=Me(r);for(let e=0;e+4<=l.length;e+=4){h[e+0]=l[e+0]^a,h[e+1]=l[e+1]^c,h[e+2]=l[e+2]^u,h[e+3]=l[e+3]^f;let n=1;for(let t=i.length-1;t>=0;t--)n=n+(255&i[t])|0,i[t]=255&n,n>>>=8;({s0:a,s1:c,s2:u,s3:f}=En(t,s[0],s[1],s[2],s[3]))}const d=rn*Math.floor(l.length/4);if(d<o){const t=new Uint32Array([a,c,u,f]),e=je(t);for(let t=d,i=0;t<o;t++,i++)r[t]=n[t]^e[i]}return r}(o,i,n,r);return o.fill(0),i.fill(0),s}return He(t),He(e,rn),{encrypt:(t,e)=>n(t,e),decrypt:(t,e)=>n(t,e)}}),Ke({blockSize:16},function(t,e={}){He(t);const n=!e.disablePadding;return{encrypt:(e,r)=>{He(e);const{b:o,o:i,out:s}=Un(e,n,r),a=yn(t);let c=0;for(;c+4<=o.length;){const{s0:t,s1:e,s2:n,s3:r}=En(a,o[c+0],o[c+1],o[c+2],o[c+3]);i[c++]=t,i[c++]=e,i[c++]=n,i[c++]=r}if(n){const t=Bn(e.subarray(4*c)),{s0:n,s1:r,s2:o,s3:s}=En(a,t[0],t[1],t[2],t[3]);i[c++]=n,i[c++]=r,i[c++]=o,i[c++]=s}return a.fill(0),s},decrypt:(e,r)=>{kn(e);const o=wn(t),i=xn(e.length,r),s=Me(e),a=Me(i);for(let t=0;t+4<=s.length;){const{s0:e,s1:n,s2:r,s3:i}=vn(o,s[t+0],s[t+1],s[t+2],s[t+3]);a[t++]=e,a[t++]=n,a[t++]=r,a[t++]=i}return o.fill(0),In(i,n)}}});const Sn=Ke({blockSize:16,nonceLength:16},function(t,e,n={}){He(t),He(e,16);const r=!n.disablePadding;return{encrypt:(n,o)=>{const i=yn(t),{b:s,o:a,out:c}=Un(n,r,o),u=Me(e);let f=u[0],l=u[1],h=u[2],d=u[3],p=0;for(;p+4<=s.length;)f^=s[p+0],l^=s[p+1],h^=s[p+2],d^=s[p+3],({s0:f,s1:l,s2:h,s3:d}=En(i,f,l,h,d)),a[p++]=f,a[p++]=l,a[p++]=h,a[p++]=d;if(r){const t=Bn(n.subarray(4*p));f^=t[0],l^=t[1],h^=t[2],d^=t[3],({s0:f,s1:l,s2:h,s3:d}=En(i,f,l,h,d)),a[p++]=f,a[p++]=l,a[p++]=h,a[p++]=d}return i.fill(0),c},decrypt:(n,o)=>{kn(n);const i=wn(t),s=Me(e),a=xn(n.length,o),c=Me(n),u=Me(a);let f=s[0],l=s[1],h=s[2],d=s[3];for(let t=0;t+4<=c.length;){const e=f,n=l,r=h,o=d;f=c[t+0],l=c[t+1],h=c[t+2],d=c[t+3];const{s0:s,s1:a,s2:p,s3:g}=vn(i,f,l,h,d);u[t++]=s^e,u[t++]=a^n,u[t++]=p^r,u[t++]=g^o}return i.fill(0),In(a,r)}}});function Ln(t,e,n,r,o){const i=t.create(n,r.length+(o?.length||0));o&&i.update(o),i.update(r);const s=new Uint8Array(16),a=ze(s);return o&&Fe(a,0,BigInt(8*o.length),e),Fe(a,8,BigInt(8*r.length),e),i.update(s),i.digest()}Ke({blockSize:16,nonceLength:16},function(t,e){function n(n,r,o){const i=yn(t),s=n.length;o=xn(s,o);const a=Me(n),c=Me(o),u=r?c:a,f=Me(e);let l=f[0],h=f[1],d=f[2],p=f[3];for(let t=0;t+4<=a.length;){const{s0:e,s1:n,s2:r,s3:o}=En(i,l,h,d,p);c[t+0]=a[t+0]^e,c[t+1]=a[t+1]^n,c[t+2]=a[t+2]^r,c[t+3]=a[t+3]^o,l=u[t++],h=u[t++],d=u[t++],p=u[t++]}const g=rn*Math.floor(a.length/4);if(g<s){({s0:l,s1:h,s2:d,s3:p}=En(i,l,h,d,p));const t=je(new Uint32Array([l,h,d,p]));for(let e=g,r=0;e<s;e++,r++)o[e]=n[e]^t[r];t.fill(0)}return i.fill(0),o}return He(t),He(e,16),{encrypt:(t,e)=>n(t,!0,e),decrypt:(t,e)=>n(t,!1,e)}}),Ke({blockSize:16,nonceLength:12,tagLength:16},function(t,e,n){if(He(e),0===e.length)throw new Error("aes/gcm: empty nonce");function r(t,e,r){const o=Ln(en,!1,t,r,n);for(let t=0;t<e.length;t++)o[t]^=e[t];return o}function o(){const n=yn(t),r=on.slice(),o=on.slice();if(An(n,!1,o,o,r),12===e.length)o.set(e);else{const t=on.slice();Fe(ze(t),8,BigInt(8*e.length),!1),en.create(r).update(e).update(t).digestInto(o)}return{xk:n,authKey:r,counter:o,tagMask:An(n,!1,o,on)}}return{encrypt:t=>{He(t);const{xk:e,authKey:n,counter:i,tagMask:s}=o(),a=new Uint8Array(t.length+16);An(e,!1,i,t,a);const c=r(n,s,a.subarray(0,a.length-16));return a.set(c,t.length),e.fill(0),a},decrypt:t=>{if(He(t),t.length<16)throw new Error("aes/gcm: ciphertext less than tagLen (16)");const{xk:e,authKey:n,counter:i,tagMask:s}=o(),a=t.subarray(0,-16),c=t.subarray(-16);if(!We(r(n,s,a),c))throw new Error("aes/gcm: invalid ghash tag");const u=An(e,!1,i,a);return n.fill(0),s.fill(0),e.fill(0),u}}});const On=(t,e,n)=>r=>{if(!Number.isSafeInteger(r)||e>r||r>n)throw new Error(`${t}: invalid value=${r}, must be [${e}..${n}]`)};Ke({blockSize:16,nonceLength:12,tagLength:16},function(t,e,n){const r=On("AAD",0,2**36),o=On("plaintext",0,2**36),i=On("nonce",12,12),s=On("ciphertext",16,2**36+16);function a(){const n=t.length;if(16!==n&&24!==n&&32!==n)throw new Error(`key length must be 16, 24 or 32 bytes, got: ${n} bytes`);const r=yn(t),o=new Uint8Array(n),i=new Uint8Array(16),s=Me(e);let a=0,c=s[0],u=s[1],f=s[2],l=0;for(const t of[i,o].map(Me)){const e=Me(t);for(let t=0;t<e.length;t+=2){const{s0:n,s1:o}=En(r,a,c,u,f);e[t+0]=n,e[t+1]=o,a=++l}}return r.fill(0),{authKey:i,encKey:yn(o)}}function c(t,r,o){const i=Ln(nn,!0,r,o,n);for(let t=0;t<12;t++)i[t]^=e[t];i[15]&=127;const s=Me(i);let a=s[0],c=s[1],u=s[2],f=s[3];return({s0:a,s1:c,s2:u,s3:f}=En(t,a,c,u,f)),s[0]=a,s[1]=c,s[2]=u,s[3]=f,i}function u(t,e,n){let r=e.slice();return r[15]|=128,An(t,!0,r,n)}return He(e),i(e.length),n&&(He(n),r(n.length)),{encrypt:t=>{He(t),o(t.length);const{encKey:e,authKey:n}=a(),r=c(e,n,t),i=new Uint8Array(t.length+16);return i.set(r,t.length),i.set(u(e,r,t)),e.fill(0),n.fill(0),i},decrypt:t=>{He(t),s(t.length);const e=t.subarray(-16),{encKey:n,authKey:r}=a(),o=u(n,e,t.subarray(0,-16)),i=c(n,r,o);if(n.fill(0),r.fill(0),!We(e,i))throw new Error("invalid polyval tag");return o}}});const Rn=(t,e)=>255&t[e++]|(255&t[e++])<<8;class $n{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,He(t=De(t),32);const e=Rn(t,0),n=Rn(t,2),r=Rn(t,4),o=Rn(t,6),i=Rn(t,8),s=Rn(t,10),a=Rn(t,12),c=Rn(t,14);this.r[0]=8191&e,this.r[1]=8191&(e>>>13|n<<3),this.r[2]=7939&(n>>>10|r<<6),this.r[3]=8191&(r>>>7|o<<9),this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,this.r[6]=8191&(i>>>14|s<<2),this.r[7]=8065&(s>>>11|a<<5),this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127;for(let e=0;e<8;e++)this.pad[e]=Rn(t,16+2*e)}process(t,e,n=!1){const r=n?0:2048,{h:o,r:i}=this,s=i[0],a=i[1],c=i[2],u=i[3],f=i[4],l=i[5],h=i[6],d=i[7],p=i[8],g=i[9],y=Rn(t,e+0),w=Rn(t,e+2),b=Rn(t,e+4),m=Rn(t,e+6),E=Rn(t,e+8),v=Rn(t,e+10),x=Rn(t,e+12),A=Rn(t,e+14);let k=o[0]+(8191&y),U=o[1]+(8191&(y>>>13|w<<3)),I=o[2]+(8191&(w>>>10|b<<6)),B=o[3]+(8191&(b>>>7|m<<9)),S=o[4]+(8191&(m>>>4|E<<12)),L=o[5]+(E>>>1&8191),O=o[6]+(8191&(E>>>14|v<<2)),R=o[7]+(8191&(v>>>11|x<<5)),$=o[8]+(8191&(x>>>8|A<<8)),N=o[9]+(A>>>5|r),_=0,T=_+k*s+U*(5*g)+I*(5*p)+B*(5*d)+S*(5*h);_=T>>>13,T&=8191,T+=L*(5*l)+O*(5*f)+R*(5*u)+$*(5*c)+N*(5*a),_+=T>>>13,T&=8191;let C=_+k*a+U*s+I*(5*g)+B*(5*p)+S*(5*d);_=C>>>13,C&=8191,C+=L*(5*h)+O*(5*l)+R*(5*f)+$*(5*u)+N*(5*c),_+=C>>>13,C&=8191;let H=_+k*c+U*a+I*s+B*(5*g)+S*(5*p);_=H>>>13,H&=8191,H+=L*(5*d)+O*(5*h)+R*(5*l)+$*(5*f)+N*(5*u),_+=H>>>13,H&=8191;let P=_+k*u+U*c+I*a+B*s+S*(5*g);_=P>>>13,P&=8191,P+=L*(5*p)+O*(5*d)+R*(5*h)+$*(5*l)+N*(5*f),_+=P>>>13,P&=8191;let q=_+k*f+U*u+I*c+B*a+S*s;_=q>>>13,q&=8191,q+=L*(5*g)+O*(5*p)+R*(5*d)+$*(5*h)+N*(5*l),_+=q>>>13,q&=8191;let j=_+k*l+U*f+I*u+B*c+S*a;_=j>>>13,j&=8191,j+=L*s+O*(5*g)+R*(5*p)+$*(5*d)+N*(5*h),_+=j>>>13,j&=8191;let M=_+k*h+U*l+I*f+B*u+S*c;_=M>>>13,M&=8191,M+=L*a+O*s+R*(5*g)+$*(5*p)+N*(5*d),_+=M>>>13,M&=8191;let z=_+k*d+U*h+I*l+B*f+S*u;_=z>>>13,z&=8191,z+=L*c+O*a+R*s+$*(5*g)+N*(5*p),_+=z>>>13,z&=8191;let D=_+k*p+U*d+I*h+B*l+S*f;_=D>>>13,D&=8191,D+=L*u+O*c+R*a+$*s+N*(5*g),_+=D>>>13,D&=8191;let W=_+k*g+U*p+I*d+B*h+S*l;_=W>>>13,W&=8191,W+=L*f+O*u+R*c+$*a+N*s,_+=W>>>13,W&=8191,_=(_<<2)+_|0,_=_+T|0,T=8191&_,_>>>=13,C+=_,o[0]=T,o[1]=C,o[2]=H,o[3]=P,o[4]=q,o[5]=j,o[6]=M,o[7]=z,o[8]=D,o[9]=W}finalize(){const{h:t,pad:e}=this,n=new Uint16Array(10);let r=t[1]>>>13;t[1]&=8191;for(let e=2;e<10;e++)t[e]+=r,r=t[e]>>>13,t[e]&=8191;t[0]+=5*r,r=t[0]>>>13,t[0]&=8191,t[1]+=r,r=t[1]>>>13,t[1]&=8191,t[2]+=r,n[0]=t[0]+5,r=n[0]>>>13,n[0]&=8191;for(let e=1;e<10;e++)n[e]=t[e]+r,r=n[e]>>>13,n[e]&=8191;n[9]-=8192;let o=(1^r)-1;for(let t=0;t<10;t++)n[t]&=o;o=~o;for(let e=0;e<10;e++)t[e]=t[e]&o|n[e];t[0]=65535&(t[0]|t[1]<<13),t[1]=65535&(t[1]>>>3|t[2]<<10),t[2]=65535&(t[2]>>>6|t[3]<<7),t[3]=65535&(t[3]>>>9|t[4]<<4),t[4]=65535&(t[4]>>>12|t[5]<<1|t[6]<<14),t[5]=65535&(t[6]>>>2|t[7]<<11),t[6]=65535&(t[7]>>>5|t[8]<<8),t[7]=65535&(t[8]>>>8|t[9]<<5);let i=t[0]+e[0];t[0]=65535&i;for(let n=1;n<8;n++)i=(t[n]+e[n]|0)+(i>>>16)|0,t[n]=65535&i}update(t){Pe(this);const{buffer:e,blockLen:n}=this,r=(t=De(t)).length;for(let o=0;o<r;){const i=Math.min(n-this.pos,r-o);if(i!==n)e.set(t.subarray(o,o+i),this.pos),this.pos+=i,o+=i,this.pos===n&&(this.process(e,0,!1),this.pos=0);else for(;n<=r-o;o+=n)this.process(t,o)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(t){Pe(this),qe(t,this),this.finished=!0;const{buffer:e,h:n}=this;let{pos:r}=this;if(r){for(e[r++]=1;r<16;r++)e[r]=0;this.process(e,0,!0)}this.finalize();let o=0;for(let e=0;e<8;e++)t[o++]=n[e]>>>0,t[o++]=n[e]>>>8;return t}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}}const Nn=function(t){const e=(e,n)=>t(n).update(De(e)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=e=>t(e),e}(t=>new $n(t)),Tn=t=>Uint8Array.from(t.split("").map(t=>t.charCodeAt(0))),Cn=Tn("expand 16-byte k"),Hn=Tn("expand 32-byte k"),Pn=Me(Cn),qn=Me(Hn);function jn(t,e){return t<<e|t>>>32-e}function Mn(t){return t.byteOffset%4==0}qn.slice();const zn=2**32-1,Dn=new Uint32Array;function Wn(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:i,rounds:s}=function(t,e){if(null==e||"object"!=typeof e)throw new Error("options must be defined");return Object.assign({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e)}(0,e);if("function"!=typeof t)throw new Error("core must be a function");return _e(o),_e(s),Te(i),Te(n),(e,a,c,u,f=0)=>{He(e),He(a),He(c);const l=c.length;if(u||(u=new Uint8Array(l)),He(u),_e(f),f<0||f>=zn)throw new Error("arx: counter overflow");if(u.length<l)throw new Error(`arx: output (${u.length}) is shorter than data (${l})`);const h=[];let d,p,g=e.length;if(32===g)d=e.slice(),h.push(d),p=qn;else{if(16!==g||!n)throw new Error(`arx: invalid 32-byte key, got length=${g}`);d=new Uint8Array(32),d.set(e),d.set(e,16),p=Pn,h.push(d)}Mn(a)||(a=a.slice(),h.push(a));const y=Me(d);if(r){if(24!==a.length)throw new Error("arx: extended nonce must be 24 bytes");r(p,y,Me(a.subarray(0,16)),y),a=a.subarray(16)}const w=16-o;if(w!==a.length)throw new Error(`arx: nonce must be ${w} or 16 bytes`);if(12!==w){const t=new Uint8Array(12);t.set(a,i?0:12-a.length),a=t,h.push(a)}const b=Me(a);for(function(t,e,n,r,o,i,s,a){const c=o.length,u=new Uint8Array(64),f=Me(u),l=Mn(o)&&Mn(i),h=l?Me(o):Dn,d=l?Me(i):Dn;for(let p=0;p<c;s++){if(t(e,n,r,f,s,a),s>=zn)throw new Error("arx: counter overflow");const g=Math.min(64,c-p);if(l&&64===g){const t=p/4;if(p%4!=0)throw new Error("arx: invalid block position");for(let e,n=0;n<16;n++)e=t+n,d[e]=h[e]^f[n];p+=64;continue}for(let t,e=0;e<g;e++)t=p+e,i[t]=o[t]^u[e];p+=g}}(t,p,y,b,c,u,f,s);h.length>0;)h.pop().fill(0);return u}}function Kn(t,e,n,r,o,i=20){let s=t[0],a=t[1],c=t[2],u=t[3],f=e[0],l=e[1],h=e[2],d=e[3],p=e[4],g=e[5],y=e[6],w=e[7],b=o,m=n[0],E=n[1],v=n[2],x=s,A=a,k=c,U=u,I=f,B=l,S=h,L=d,O=p,R=g,$=y,N=w,_=b,T=m,C=E,H=v;for(let t=0;t<i;t+=2)x=x+I|0,_=jn(_^x,16),O=O+_|0,I=jn(I^O,12),x=x+I|0,_=jn(_^x,8),O=O+_|0,I=jn(I^O,7),A=A+B|0,T=jn(T^A,16),R=R+T|0,B=jn(B^R,12),A=A+B|0,T=jn(T^A,8),R=R+T|0,B=jn(B^R,7),k=k+S|0,C=jn(C^k,16),$=$+C|0,S=jn(S^$,12),k=k+S|0,C=jn(C^k,8),$=$+C|0,S=jn(S^$,7),U=U+L|0,H=jn(H^U,16),N=N+H|0,L=jn(L^N,12),U=U+L|0,H=jn(H^U,8),N=N+H|0,L=jn(L^N,7),x=x+B|0,H=jn(H^x,16),$=$+H|0,B=jn(B^$,12),x=x+B|0,H=jn(H^x,8),$=$+H|0,B=jn(B^$,7),A=A+S|0,_=jn(_^A,16),N=N+_|0,S=jn(S^N,12),A=A+S|0,_=jn(_^A,8),N=N+_|0,S=jn(S^N,7),k=k+L|0,T=jn(T^k,16),O=O+T|0,L=jn(L^O,12),k=k+L|0,T=jn(T^k,8),O=O+T|0,L=jn(L^O,7),U=U+I|0,C=jn(C^U,16),R=R+C|0,I=jn(I^R,12),U=U+I|0,C=jn(C^U,8),R=R+C|0,I=jn(I^R,7);let P=0;r[P++]=s+x|0,r[P++]=a+A|0,r[P++]=c+k|0,r[P++]=u+U|0,r[P++]=f+I|0,r[P++]=l+B|0,r[P++]=h+S|0,r[P++]=d+L|0,r[P++]=p+O|0,r[P++]=g+R|0,r[P++]=y+$|0,r[P++]=w+N|0,r[P++]=b+_|0,r[P++]=m+T|0,r[P++]=E+C|0,r[P++]=v+H|0}const Fn=Wn(Kn,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Vn=Wn(Kn,{counterRight:!1,counterLength:8,extendNonceFn:function(t,e,n,r){let o=t[0],i=t[1],s=t[2],a=t[3],c=e[0],u=e[1],f=e[2],l=e[3],h=e[4],d=e[5],p=e[6],g=e[7],y=n[0],w=n[1],b=n[2],m=n[3];for(let t=0;t<20;t+=2)o=o+c|0,y=jn(y^o,16),h=h+y|0,c=jn(c^h,12),o=o+c|0,y=jn(y^o,8),h=h+y|0,c=jn(c^h,7),i=i+u|0,w=jn(w^i,16),d=d+w|0,u=jn(u^d,12),i=i+u|0,w=jn(w^i,8),d=d+w|0,u=jn(u^d,7),s=s+f|0,b=jn(b^s,16),p=p+b|0,f=jn(f^p,12),s=s+f|0,b=jn(b^s,8),p=p+b|0,f=jn(f^p,7),a=a+l|0,m=jn(m^a,16),g=g+m|0,l=jn(l^g,12),a=a+l|0,m=jn(m^a,8),g=g+m|0,l=jn(l^g,7),o=o+u|0,m=jn(m^o,16),p=p+m|0,u=jn(u^p,12),o=o+u|0,m=jn(m^o,8),p=p+m|0,u=jn(u^p,7),i=i+f|0,y=jn(y^i,16),g=g+y|0,f=jn(f^g,12),i=i+f|0,y=jn(y^i,8),g=g+y|0,f=jn(f^g,7),s=s+l|0,w=jn(w^s,16),h=h+w|0,l=jn(l^h,12),s=s+l|0,w=jn(w^s,8),h=h+w|0,l=jn(l^h,7),a=a+c|0,b=jn(b^a,16),d=d+b|0,c=jn(c^d,12),a=a+c|0,b=jn(b^a,8),d=d+b|0,c=jn(c^d,7);let E=0;r[E++]=o,r[E++]=i,r[E++]=s,r[E++]=a,r[E++]=y,r[E++]=w,r[E++]=b,r[E++]=m},allowShortKeys:!1}),Zn=new Uint8Array(16),Gn=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(Zn.subarray(n))},Jn=new Uint8Array(32);function Yn(t,e,n,r,o){const i=t(e,n,Jn),s=Nn.create(i);o&&Gn(s,o),Gn(s,r);const a=new Uint8Array(16),c=ze(a);Fe(c,0,BigInt(o?o.length:0),!0),Fe(c,8,BigInt(r.length),!0),s.update(a);const u=s.digest();return i.fill(0),u}const Xn=t=>(e,n,r)=>(He(e,32),He(n),{encrypt:(o,i)=>{const s=o.length,a=s+16;i?He(i,a):i=new Uint8Array(a),t(e,n,o,i,1);const c=Yn(t,e,n,i.subarray(0,-16),r);return i.set(c,s),i},decrypt:(o,i)=>{const s=o.length,a=s-16;if(s<16)throw new Error("encrypted data must be at least 16 bytes");i?He(i,a):i=new Uint8Array(a);const c=o.subarray(0,-16);if(!We(o.subarray(-16),Yn(t,e,n,c,r)))throw new Error("invalid tag");return t(e,n,c,i,1),i}});Xn(Fn),Xn(Vn);class Qn extends Qt{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,oe.hash(t);const n=Yt(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(n.length>r?t.create().update(n).digest():n);for(let t=0;t<o.length;t++)o[t]^=54;this.iHash.update(o),this.oHash=t.create();for(let t=0;t<o.length;t++)o[t]^=106;this.oHash.update(o),o.fill(0)}update(t){return oe.exists(this),this.iHash.update(t),this}digestInto(t){oe.exists(this),oe.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return t.finished=r,t.destroyed=o,t.blockLen=i,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const tr=(t,e,n)=>new Qn(t,e).update(n).digest();tr.create=(t,e)=>new Qn(t,e);const er=new Uint8Array([0]),nr=new Uint8Array;var rr=Object.defineProperty,or=(t,e)=>{for(var n in e)rr(t,n,{get:e[n],enumerable:!0})},ir=Symbol("verified");function sr(t){if(!(t instanceof Object))return!1;if("number"!=typeof t.kind)return!1;if("string"!=typeof t.content)return!1;if("number"!=typeof t.created_at)return!1;if("string"!=typeof t.pubkey)return!1;if(!t.pubkey.match(/^[a-f0-9]{64}$/))return!1;if(!Array.isArray(t.tags))return!1;for(let e=0;e<t.tags.length;e++){let n=t.tags[e];if(!Array.isArray(n))return!1;for(let t=0;t<n.length;t++)if("string"!=typeof n[t])return!1}return!0}or({},{Queue:()=>pr,QueueNode:()=>dr,binarySearch:()=>hr,bytesToHex:()=>Gt,hexToBytes:()=>Jt,insertEventIntoAscendingList:()=>lr,insertEventIntoDescendingList:()=>fr,normalizeURL:()=>ur,utf8Decoder:()=>ar,utf8Encoder:()=>cr});var ar=new TextDecoder("utf-8"),cr=new TextEncoder;function ur(t){try{-1===t.indexOf("://")&&(t="wss://"+t);let e=new URL(t);return e.pathname=e.pathname.replace(/\/+/g,"/"),e.pathname.endsWith("/")&&(e.pathname=e.pathname.slice(0,-1)),("80"===e.port&&"ws:"===e.protocol||"443"===e.port&&"wss:"===e.protocol)&&(e.port=""),e.searchParams.sort(),e.hash="",e.toString()}catch(e){throw new Error(`Invalid URL: ${t}`)}}function fr(t,e){const[n,r]=hr(t,t=>e.id===t.id?0:e.created_at===t.created_at?-1:t.created_at-e.created_at);return r||t.splice(n,0,e),t}function lr(t,e){const[n,r]=hr(t,t=>e.id===t.id?0:e.created_at===t.created_at?-1:e.created_at-t.created_at);return r||t.splice(n,0,e),t}function hr(t,e){let n=0,r=t.length-1;for(;n<=r;){const o=Math.floor((n+r)/2),i=e(t[o]);if(0===i)return[o,!0];i<0?r=o-1:n=o+1}return[n,!1]}var dr=class{value;next=null;prev=null;constructor(t){this.value=t}},pr=class{first;last;constructor(){this.first=null,this.last=null}enqueue(t){const e=new dr(t);return this.last?this.last===this.first?(this.last=e,this.last.prev=this.first,this.first.next=e):(e.prev=this.last,this.last.next=e,this.last=e):(this.first=e,this.last=e),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const t=this.first;return this.first=t.next,this.first&&(this.first.prev=null),t.value}};function gr(t){return Gt(de(cr.encode(function(t){if(!sr(t))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,t.pubkey,t.created_at,t.kind,t.tags,t.content])}(t))))}var yr=new class{generateSecretKey(){return Dt.utils.randomPrivateKey()}getPublicKey(t){return Gt(Dt.getPublicKey(t))}finalizeEvent(t,e){const n=t;return n.pubkey=Gt(Dt.getPublicKey(e)),n.id=gr(n),n.sig=Gt(Dt.sign(gr(n),e)),n[ir]=!0,n}verifyEvent(t){if("boolean"==typeof t[ir])return t[ir];const e=gr(t);if(e!==t.id)return t[ir]=!1,!1;try{const n=Dt.verify(t.sig,e,t.pubkey);return t[ir]=n,n}catch(e){return t[ir]=!1,!1}}},wr=yr.generateSecretKey,br=yr.getPublicKey,mr=yr.finalizeEvent,Er=yr.verifyEvent;function vr(t){return 1e3<=t&&t<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(t)}function xr(t){return[0,3].includes(t)||1e4<=t&&t<2e4}function Ar(t){return 2e4<=t&&t<3e4}function kr(t){return 3e4<=t&&t<4e4}function Ur(t){return vr(t)?"regular":xr(t)?"replaceable":Ar(t)?"ephemeral":kr(t)?"parameterized":"unknown"}function Ir(t,e){const n=e instanceof Array?e:[e];return sr(t)&&n.includes(t.kind)||!1}or({},{Application:()=>qo,BadgeAward:()=>Tr,BadgeDefinition:()=>$o,BlockedRelaysList:()=>ho,BookmarkList:()=>uo,Bookmarksets:()=>Lo,Calendar:()=>Fo,CalendarEventRSVP:()=>Vo,ChannelCreation:()=>qr,ChannelHideMessage:()=>zr,ChannelMessage:()=>Mr,ChannelMetadata:()=>jr,ChannelMuteUser:()=>Dr,ClassifiedListing:()=>zo,ClientAuth:()=>vo,CommunitiesList:()=>fo,CommunityDefinition:()=>Jo,CommunityPostApproval:()=>Xr,Contacts:()=>Or,CreateOrUpdateProduct:()=>To,CreateOrUpdateStall:()=>_o,Curationsets:()=>Oo,Date:()=>Wo,DirectMessageRelaysList:()=>wo,DraftClassifiedListing:()=>Do,DraftLong:()=>Ho,Emojisets:()=>Po,EncryptedDirectMessage:()=>Rr,EventDeletion:()=>$r,FileMetadata:()=>Fr,FileServerPreference:()=>bo,Followsets:()=>Io,GenericRepost:()=>Pr,Genericlists:()=>Bo,GiftWrap:()=>Kr,HTTPAuth:()=>Uo,Handlerinformation:()=>Go,Handlerrecommendation:()=>Zo,Highlights:()=>io,InterestsList:()=>go,Interestsets:()=>No,JobFeedback:()=>eo,JobRequest:()=>Qr,JobResult:()=>to,Label:()=>Yr,LightningPubRPC:()=>Eo,LiveChatMessage:()=>Vr,LiveEvent:()=>jo,LongFormArticle:()=>Co,Metadata:()=>Br,Mutelist:()=>so,NWCWalletInfo:()=>mo,NWCWalletRequest:()=>xo,NWCWalletResponse:()=>Ao,NostrConnect:()=>ko,OpenTimestamps:()=>Wr,Pinlist:()=>ao,PrivateDirectMessage:()=>Hr,ProblemTracker:()=>Zr,ProfileBadges:()=>Ro,PublicChatsList:()=>lo,Reaction:()=>_r,RecommendRelay:()=>Lr,RelayList:()=>co,Relaysets:()=>So,Report:()=>Gr,Reporting:()=>Jr,Repost:()=>Nr,Seal:()=>Cr,SearchRelaysList:()=>po,ShortTextNote:()=>Sr,Time:()=>Ko,UserEmojiList:()=>yo,UserStatuses:()=>Mo,Zap:()=>oo,ZapGoal:()=>no,ZapRequest:()=>ro,classifyKind:()=>Ur,isAddressableKind:()=>kr,isEphemeralKind:()=>Ar,isKind:()=>Ir,isRegularKind:()=>vr,isReplaceableKind:()=>xr});var Br=0,Sr=1,Lr=2,Or=3,Rr=4,$r=5,Nr=6,_r=7,Tr=8,Cr=13,Hr=14,Pr=16,qr=40,jr=41,Mr=42,zr=43,Dr=44,Wr=1040,Kr=1059,Fr=1063,Vr=1311,Zr=1971,Gr=1984,Jr=1984,Yr=1985,Xr=4550,Qr=5999,to=6999,eo=7e3,no=9041,ro=9734,oo=9735,io=9802,so=1e4,ao=10001,co=10002,uo=10003,fo=10004,lo=10005,ho=10006,po=10007,go=10015,yo=10030,wo=10050,bo=10096,mo=13194,Eo=21e3,vo=22242,xo=23194,Ao=23195,ko=24133,Uo=27235,Io=3e4,Bo=30001,So=30002,Lo=30003,Oo=30004,Ro=30008,$o=30009,No=30015,_o=30017,To=30018,Co=30023,Ho=30024,Po=30030,qo=30078,jo=30311,Mo=30315,zo=30402,Do=30403,Wo=31922,Ko=31923,Fo=31924,Vo=31925,Zo=31989,Go=31990,Jo=34550;function Yo(t,e){let n=e.length+3,r=t.indexOf(`"${e}":`)+n,o=t.slice(r).indexOf('"')+r+1;return t.slice(o,o+64)}function Xo(t,e){let n=e.length,r=t.indexOf(`"${e}":`)+n+3,o=t.slice(r),i=Math.min(o.indexOf(","),o.indexOf("}"));return parseInt(o.slice(0,i),10)}function Qo(t){let e=t.slice(0,22).indexOf('"EVENT"');if(-1===e)return null;let n=t.slice(e+7+1).indexOf('"');if(-1===n)return null;let r=e+7+1+n,o=t.slice(r+1,80).indexOf('"');if(-1===o)return null;let i=r+1+o;return t.slice(r+1,i)}function ti(t,e){return e===Yo(t,"id")}function ei(t,e){return e===Yo(t,"pubkey")}function ni(t,e){return e===Xo(t,"kind")}function ri(t,e){return{kind:vo,created_at:Math.floor(Date.now()/1e3),tags:[["relay",t],["challenge",e]],content:""}}or({},{getHex64:()=>Yo,getInt:()=>Xo,getSubscriptionId:()=>Qo,matchEventId:()=>ti,matchEventKind:()=>ni,matchEventPubkey:()=>ei}),or({},{makeAuthEvent:()=>ri}),Error;try{WebSocket}catch{}try{WebSocket}catch{}var oi={};or(oi,{BECH32_REGEX:()=>ai,Bech32MaxSize:()=>si,NostrTypeGuard:()=>ii,decode:()=>ui,decodeNostrURI:()=>ci,encodeBytes:()=>gi,naddrEncode:()=>bi,neventEncode:()=>wi,noteEncode:()=>di,nprofileEncode:()=>yi,npubEncode:()=>hi,nsecEncode:()=>li});var ii={isNProfile:t=>/^nprofile1[a-z\d]+$/.test(t||""),isNEvent:t=>/^nevent1[a-z\d]+$/.test(t||""),isNAddr:t=>/^naddr1[a-z\d]+$/.test(t||""),isNSec:t=>/^nsec1[a-z\d]{58}$/.test(t||""),isNPub:t=>/^npub1[a-z\d]{58}$/.test(t||""),isNote:t=>/^note1[a-z\d]+$/.test(t||""),isNcryptsec:t=>/^ncryptsec1[a-z\d]+$/.test(t||"")},si=5e3,ai=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function ci(t){try{return t.startsWith("nostr:")&&(t=t.substring(6)),ui(t)}catch(t){return{type:"invalid",data:null}}}function ui(t){let{prefix:e,words:n}=Ne.decode(t,si),r=new Uint8Array(Ne.fromWords(n));switch(e){case"nprofile":{let t=fi(r);if(!t[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(32!==t[0][0].length)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Gt(t[0][0]),relays:t[1]?t[1].map(t=>ar.decode(t)):[]}}}case"nevent":{let t=fi(r);if(!t[0]?.[0])throw new Error("missing TLV 0 for nevent");if(32!==t[0][0].length)throw new Error("TLV 0 should be 32 bytes");if(t[2]&&32!==t[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(t[3]&&4!==t[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Gt(t[0][0]),relays:t[1]?t[1].map(t=>ar.decode(t)):[],author:t[2]?.[0]?Gt(t[2][0]):void 0,kind:t[3]?.[0]?parseInt(Gt(t[3][0]),16):void 0}}}case"naddr":{let t=fi(r);if(!t[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!t[2]?.[0])throw new Error("missing TLV 2 for naddr");if(32!==t[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(!t[3]?.[0])throw new Error("missing TLV 3 for naddr");if(4!==t[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:ar.decode(t[0][0]),pubkey:Gt(t[2][0]),kind:parseInt(Gt(t[3][0]),16),relays:t[1]?t[1].map(t=>ar.decode(t)):[]}}}case"nsec":return{type:e,data:r};case"npub":case"note":return{type:e,data:Gt(r)};default:throw new Error(`unknown prefix ${e}`)}}function fi(t){let e={},n=t;for(;n.length>0;){let t=n[0],r=n[1],o=n.slice(2,2+r);if(n=n.slice(2+r),o.length<r)throw new Error(`not enough data to read on TLV ${t}`);e[t]=e[t]||[],e[t].push(o)}return e}function li(t){return gi("nsec",t)}function hi(t){return gi("npub",Jt(t))}function di(t){return gi("note",Jt(t))}function pi(t,e){let n=Ne.toWords(e);return Ne.encode(t,n,si)}function gi(t,e){return pi(t,e)}function yi(t){return pi("nprofile",mi({0:[Jt(t.pubkey)],1:(t.relays||[]).map(t=>cr.encode(t))}))}function wi(t){let e;return void 0!==t.kind&&(e=function(t){const e=new Uint8Array(4);return e[0]=t>>24&255,e[1]=t>>16&255,e[2]=t>>8&255,e[3]=255&t,e}(t.kind)),pi("nevent",mi({0:[Jt(t.id)],1:(t.relays||[]).map(t=>cr.encode(t)),2:t.author?[Jt(t.author)]:[],3:e?[new Uint8Array(e)]:[]}))}function bi(t){let e=new ArrayBuffer(4);return new DataView(e).setUint32(0,t.kind,!1),pi("naddr",mi({0:[cr.encode(t.identifier)],1:(t.relays||[]).map(t=>cr.encode(t)),2:[Jt(t.pubkey)],3:[new Uint8Array(e)]}))}function mi(t){let e=[];return Object.entries(t).reverse().forEach(([t,n])=>{n.forEach(n=>{let r=new Uint8Array(n.length+2);r.set([parseInt(t)],0),r.set([n.length],1),r.set(n,2),e.push(r)})}),Xt(...e)}function Ei(t,e,n){const r=t instanceof Uint8Array?Gt(t):t,o=xi(Bt.getSharedSecret(r,"02"+e));let i=Uint8Array.from(ee(16)),s=cr.encode(n),a=Sn(o,i).encrypt(s);return`${Ie.encode(new Uint8Array(a))}?iv=${Ie.encode(new Uint8Array(i.buffer))}`}function vi(t,e,n){const r=t instanceof Uint8Array?Gt(t):t;let[o,i]=n.split("?iv="),s=xi(Bt.getSharedSecret(r,"02"+e)),a=Ie.decode(i),c=Ie.decode(o),u=Sn(s,a).decrypt(c);return ar.decode(u)}function xi(t){return t.slice(1,33)}or({},{decrypt:()=>vi,encrypt:()=>Ei}),or({},{NIP05_REGEX:()=>ki,isNip05:()=>Ui,isValid:()=>Li,queryProfile:()=>Si,searchDomain:()=>Bi,useFetchImplementation:()=>Ii});var Ai,ki=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,Ui=t=>ki.test(t||"");try{Ai=fetch}catch(t){}function Ii(t){Ai=t}async function Bi(t,e=""){try{const n=`https://${t}/.well-known/nostr.json?name=${e}`,r=await Ai(n,{redirect:"manual"});if(200!==r.status)throw Error("Wrong response code");return(await r.json()).names}catch(t){return{}}}async function Si(t){const e=t.match(ki);if(!e)return null;const[,n="_",r]=e;try{const t=`https://${r}/.well-known/nostr.json?name=${n}`,e=await Ai(t,{redirect:"manual"});if(200!==e.status)throw Error("Wrong response code");const o=await e.json(),i=o.names[n];return i?{pubkey:i,relays:o.relays?.[i]}:null}catch(t){return null}}async function Li(t,e){const n=await Si(e);return!!n&&n.pubkey===t}function Oi(t){const e={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let n,r;for(let o=t.tags.length-1;o>=0;o--){const i=t.tags[o];if("e"===i[0]&&i[1]){const[t,o,s,a,c]=i,u={id:o,relays:s?[s]:[],author:c};if("root"===a){e.root=u;continue}if("reply"===a){e.reply=u;continue}if("mention"===a){e.mentions.push(u);continue}n?r=u:n=u,e.mentions.push(u);continue}if("q"===i[0]&&i[1]){const[t,n,r]=i;e.quotes.push({id:n,relays:r?[r]:[]})}"p"===i[0]&&i[1]&&e.profiles.push({pubkey:i[1],relays:i[2]?[i[2]]:[]})}return e.root||(e.root=r||n||e.reply),e.reply||(e.reply=n||e.root),[e.reply,e.root].forEach(t=>{if(!t)return;let n=e.mentions.indexOf(t);if(-1!==n&&e.mentions.splice(n,1),t.author){let n=e.profiles.find(e=>e.pubkey===t.author);n&&n.relays&&(t.relays||(t.relays=[]),n.relays.forEach(e=>{-1===t.relays?.indexOf(e)&&t.relays.push(e)}),n.relays=t.relays)}}),e.mentions.forEach(t=>{if(t.author){let n=e.profiles.find(e=>e.pubkey===t.author);n&&n.relays&&(t.relays||(t.relays=[]),n.relays.forEach(e=>{-1===t.relays.indexOf(e)&&t.relays.push(e)}),n.relays=t.relays)}}),e}or({},{parse:()=>Oi}),or({},{fetchRelayInformation:()=>$i,useFetchImplementation:()=>Ri});try{fetch}catch{}function Ri(t){}async function $i(t){return await(await fetch(t.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}function Ni(t){let e=0;for(let n=0;n<64;n+=8){const r=parseInt(t.substring(n,n+8),16);if(0!==r){e+=Math.clz32(r);break}e+=32}return e}function _i(t,e){let n=0;const r=t,o=["nonce",n.toString(),e.toString()];for(r.tags.push(o);;){const t=Math.floor((new Date).getTime()/1e3);if(t!==r.created_at&&(n=0,r.created_at=t),o[1]=(++n).toString(),r.id=Ti(r),Ni(r.id)>=e)break}return r}function Ti(t){return Gt(de(cr.encode(JSON.stringify([0,t.pubkey,t.created_at,t.kind,t.tags,t.content]))))}or({},{fastEventHash:()=>Ti,getPow:()=>Ni,minePow:()=>_i}),or({},{unwrapEvent:()=>is,unwrapManyEvents:()=>ss,wrapEvent:()=>rs,wrapManyEvents:()=>os}),or({},{createRumor:()=>Ji,createSeal:()=>Yi,createWrap:()=>Xi,unwrapEvent:()=>es,unwrapManyEvents:()=>ns,wrapEvent:()=>Qi,wrapManyEvents:()=>ts}),or({},{decrypt:()=>Di,encrypt:()=>zi,getConversationKey:()=>Pi,v2:()=>Wi});var Ci=1,Hi=65535;function Pi(t,e){const n=Bt.getSharedSecret(t,"02"+e).subarray(1,33);return r=de,o=n,i="nip44-v2",oe.hash(r),void 0===i&&(i=new Uint8Array(r.outputLen)),tr(r,Yt(i),Yt(o));var r,o,i}function qi(t,e){const n=function(t,e,n,r=32){if(oe.hash(t),oe.number(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const o=Math.ceil(r/t.outputLen);void 0===n&&(n=nr);const i=new Uint8Array(o*t.outputLen),s=tr.create(t,e),a=s._cloneInto(),c=new Uint8Array(s.outputLen);for(let e=0;e<o;e++)er[0]=e+1,a.update(0===e?nr:c).update(n).update(er).digestInto(c),i.set(c,t.outputLen*e),s._cloneInto(a);return s.destroy(),a.destroy(),c.fill(0),er.fill(0),i.slice(0,r)}(de,t,e,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function ji(t){if(!Number.isSafeInteger(t)||t<1)throw new Error("expected positive integer");if(t<=32)return 32;const e=1<<Math.floor(Math.log2(t-1))+1,n=e<=256?32:e/8;return n*(Math.floor((t-1)/n)+1)}function Mi(t,e,n){if(32!==n.length)throw new Error("AAD associated data must be 32 bytes");const r=Xt(n,e);return tr(de,t,r)}function zi(t,e,n=ee(32)){const{chacha_key:r,chacha_nonce:o,hmac_key:i}=qi(e,n),s=function(t){const e=cr.encode(t),n=e.length;return Xt(function(t){if(!Number.isSafeInteger(t)||t<Ci||t>Hi)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const e=new Uint8Array(2);return new DataView(e.buffer).setUint16(0,t,!1),e}(n),e,new Uint8Array(ji(n)-n))}(t),a=Fn(r,o,s),c=Mi(i,a,n);return Ie.encode(Xt(new Uint8Array([2]),n,a,c))}function Di(t,e){const{nonce:n,ciphertext:r,mac:o}=function(t){if("string"!=typeof t)throw new Error("payload must be a valid string");const e=t.length;if(e<132||e>87472)throw new Error("invalid payload length: "+e);if("#"===t[0])throw new Error("unknown encryption version");let n;try{n=Ie.decode(t)}catch(t){throw new Error("invalid base64: "+t.message)}const r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const o=n[0];if(2!==o)throw new Error("unknown encryption version "+o);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}(t),{chacha_key:i,chacha_nonce:s,hmac_key:a}=qi(e,n);if(!We(Mi(a,r,n),o))throw new Error("invalid MAC");return function(t){const e=new DataView(t.buffer).getUint16(0),n=t.subarray(2,2+e);if(e<Ci||e>Hi||n.length!==e||t.length!==2+ji(e))throw new Error("invalid padding");return ar.decode(n)}(Fn(i,s,r))}var Wi={utils:{getConversationKey:Pi,calcPaddedLen:ji},encrypt:zi,decrypt:Di},Ki=()=>Math.round(Date.now()/1e3),Fi=()=>Math.round(Ki()-172800*Math.random()),Vi=(t,e)=>Pi(t,e),Zi=(t,e,n)=>zi(JSON.stringify(t),Vi(e,n)),Gi=(t,e)=>JSON.parse(Di(t.content,Vi(e,t.pubkey)));function Ji(t,e){const n={created_at:Ki(),content:"",tags:[],...t,pubkey:br(e)};return n.id=gr(n),n}function Yi(t,e,n){return mr({kind:Cr,content:Zi(t,e,n),created_at:Fi(),tags:[]},e)}function Xi(t,e){const n=wr();return mr({kind:Kr,content:Zi(t,n,e),created_at:Fi(),tags:[["p",e]]},n)}function Qi(t,e,n){return Xi(Yi(Ji(t,e),e,n),n)}function ts(t,e,n){if(!n||0===n.length)throw new Error("At least one recipient is required.");const r=br(e),o=[Qi(t,e,r)];return n.forEach(n=>{o.push(Qi(t,e,n))}),o}function es(t,e){const n=Gi(t,e);return Gi(n,e)}function ns(t,e){let n=[];return t.forEach(t=>{n.push(es(t,e))}),n.sort((t,e)=>t.created_at-e.created_at),n}function rs(t,e,n,r,o){const i=function(t,e,n,r){const o={created_at:Math.ceil(Date.now()/1e3),kind:Hr,tags:[],content:e};return(Array.isArray(t)?t:[t]).forEach(({publicKey:t,relayUrl:e})=>{o.tags.push(e?["p",t,e]:["p",t])}),r&&o.tags.push(["e",r.eventId,r.relayUrl||"","reply"]),n&&o.tags.push(["subject",n]),o}(e,n,r,o);return Qi(i,t,e.publicKey)}function os(t,e,n,r,o){if(!e||0===e.length)throw new Error("At least one recipient is required.");return[{publicKey:br(t)},...e].map(e=>rs(t,e,n,r,o))}var is=es,ss=ns;function as(t,e,n,r){let o;const i=[...t.tags??[],["e",e.id,n],["p",e.pubkey]];return e.kind===Sr?o=Nr:(o=Pr,i.push(["k",String(e.kind)])),mr({kind:o,tags:i,content:""===t.content||e.tags?.find(t=>"-"===t[0])?"":JSON.stringify(e),created_at:t.created_at},r)}function cs(t){if(![Nr,Pr].includes(t.kind))return;let e,n;for(let r=t.tags.length-1;r>=0&&(void 0===e||void 0===n);r--){const o=t.tags[r];o.length>=2&&("e"===o[0]&&void 0===e?e=o:"p"===o[0]&&void 0===n&&(n=o))}return void 0!==e?{id:e[1],relays:[e[2],n?.[2]].filter(t=>"string"==typeof t),author:n?.[1]}:void 0}function us(t,{skipVerification:e}={}){const n=cs(t);if(void 0===n||""===t.content)return;let r;try{r=JSON.parse(t.content)}catch(t){return}return r.id===n.id&&(e||Er(r))?r:void 0}or({},{finishRepostEvent:()=>as,getRepostedEvent:()=>us,getRepostedEventPointer:()=>cs}),or({},{NOSTR_URI_REGEX:()=>fs,parse:()=>hs,test:()=>ls});var fs=new RegExp(`nostr:(${ai.source})`);function ls(t){return"string"==typeof t&&new RegExp(`^${fs.source}$`).test(t)}function hs(t){const e=t.match(new RegExp(`^${fs.source}$`));if(!e)throw new Error(`Invalid Nostr URI: ${t}`);return{uri:e[0],value:e[1],decoded:ui(e[1])}}function ds(t,e,n){const r=e.tags.filter(t=>t.length>=2&&("e"===t[0]||"p"===t[0]));return mr({...t,kind:_r,tags:[...t.tags??[],...r,["e",e.id],["p",e.pubkey]],content:t.content??"+"},n)}function ps(t){if(t.kind!==_r)return;let e,n;for(let r=t.tags.length-1;r>=0&&(void 0===e||void 0===n);r--){const o=t.tags[r];o.length>=2&&("e"===o[0]&&void 0===e?e=o:"p"===o[0]&&void 0===n&&(n=o))}return void 0!==e&&void 0!==n?{id:e[1],relays:[e[2],n[2]].filter(t=>void 0!==t),author:n[1]}:void 0}or({},{finishReactionEvent:()=>ds,getReactedEventPointer:()=>ps}),or({},{parse:()=>ws});var gs=/\W/m,ys=/\W |\W$|$|,| /m;function*ws(t){const e=t.length;let n=0,r=0;for(;r<e;){let o=t.indexOf(":",r);if(-1===o)break;if("nostr"===t.substring(o-5,o)){const i=t.substring(o+60).match(gs),s=i?o+60+i.index:e;try{let e,{data:i,type:a}=ui(t.substring(o+1,s));switch(a){case"npub":e={pubkey:i};break;case"nsec":case"note":r=s+1;continue;default:e=i}n!==o-5&&(yield{type:"text",text:t.substring(n,o-5)}),yield{type:"reference",pointer:e},r=s,n=r;continue}catch(t){r=o+1;continue}}else if("https"===t.substring(o-5,o)||"http"===t.substring(o-4,o)){const i=t.substring(o+4).match(ys),s=i?o+4+i.index:e,a="s"===t[o-1]?5:4;try{let e=new URL(t.substring(o-a,s));if(-1===e.hostname.indexOf("."))throw new Error("invalid url");if(n!==o-a&&(yield{type:"text",text:t.substring(n,o-a)}),e.pathname.endsWith(".png")||e.pathname.endsWith(".jpg")||e.pathname.endsWith(".jpeg")||e.pathname.endsWith(".gif")||e.pathname.endsWith(".webp")){yield{type:"image",url:e.toString()},r=s,n=r;continue}if(e.pathname.endsWith(".mp4")||e.pathname.endsWith(".avi")||e.pathname.endsWith(".webm")||e.pathname.endsWith(".mkv")){yield{type:"video",url:e.toString()},r=s,n=r;continue}if(e.pathname.endsWith(".mp3")||e.pathname.endsWith(".aac")||e.pathname.endsWith(".ogg")||e.pathname.endsWith(".opus")){yield{type:"audio",url:e.toString()},r=s,n=r;continue}yield{type:"url",url:e.toString()},r=s,n=r;continue}catch(t){r=s+1;continue}}else{if("wss"!==t.substring(o-3,o)&&"ws"!==t.substring(o-2,o)){r=o+1;continue}{const i=t.substring(o+4).match(ys),s=i?o+4+i.index:e,a="s"===t[o-1]?3:2;try{let e=new URL(t.substring(o-a,s));if(-1===e.hostname.indexOf("."))throw new Error("invalid ws url");n!==o-a&&(yield{type:"text",text:t.substring(n,o-a)}),yield{type:"relay",url:e.toString()},r=s,n=r;continue}catch(t){r=s+1;continue}}}}n!==e&&(yield{type:"text",text:t.substring(n)})}or({},{channelCreateEvent:()=>bs,channelHideMessageEvent:()=>vs,channelMessageEvent:()=>Es,channelMetadataEvent:()=>ms,channelMuteUserEvent:()=>xs});var bs=(t,e)=>{let n;if("object"==typeof t.content)n=JSON.stringify(t.content);else{if("string"!=typeof t.content)return;n=t.content}return mr({kind:qr,tags:[...t.tags??[]],content:n,created_at:t.created_at},e)},ms=(t,e)=>{let n;if("object"==typeof t.content)n=JSON.stringify(t.content);else{if("string"!=typeof t.content)return;n=t.content}return mr({kind:jr,tags:[["e",t.channel_create_event_id],...t.tags??[]],content:n,created_at:t.created_at},e)},Es=(t,e)=>{const n=[["e",t.channel_create_event_id,t.relay_url,"root"]];return t.reply_to_channel_message_event_id&&n.push(["e",t.reply_to_channel_message_event_id,t.relay_url,"reply"]),mr({kind:Mr,tags:[...n,...t.tags??[]],content:t.content,created_at:t.created_at},e)},vs=(t,e)=>{let n;if("object"==typeof t.content)n=JSON.stringify(t.content);else{if("string"!=typeof t.content)return;n=t.content}return mr({kind:zr,tags:[["e",t.channel_message_event_id],...t.tags??[]],content:n,created_at:t.created_at},e)},xs=(t,e)=>{let n;if("object"==typeof t.content)n=JSON.stringify(t.content);else{if("string"!=typeof t.content)return;n=t.content}return mr({kind:Dr,tags:[["p",t.pubkey_to_mute],...t.tags??[]],content:n,created_at:t.created_at},e)};or({},{EMOJI_SHORTCODE_REGEX:()=>Us,matchAll:()=>Bs,regex:()=>Is,replaceAll:()=>Ss});var As,ks,Us=/:(\w+):/,Is=()=>new RegExp(`\\B${Us.source}\\B`,"g");function*Bs(t){const e=t.matchAll(Is());for(const t of e)try{const[e,n]=t;yield{shortcode:e,name:n,start:t.index,end:t.index+e.length}}catch(t){}}function Ss(t,e){return t.replaceAll(Is(),(t,n)=>e({shortcode:t,name:n}))}or({},{useFetchImplementation:()=>Ls,validateGithub:()=>Os});try{As=fetch}catch{}function Ls(t){As=t}async function Os(t,e,n){try{return await(await As(`https://gist.github.com/${e}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${t}`}catch(t){return!1}}function Rs(t){const{pathname:e,searchParams:n}=new URL(t),r=e,o=n.get("relay"),i=n.get("secret");if(!r||!o||!i)throw new Error("invalid connection string");return{pubkey:r,relay:o,secret:i}}async function $s(t,e,n){const r={method:"pay_invoice",params:{invoice:n}},o=Ei(e,t,JSON.stringify(r)),i={kind:xo,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",t]]};return mr(i,e)}function Ns(t){return t=(t=t.trim().toLowerCase()).normalize("NFKC"),Array.from(t).map(t=>/\p{Letter}/u.test(t)||/\p{Number}/u.test(t)?t:"-").join("")}or({},{makeNwcRequestEvent:()=>$s,parseConnectionString:()=>Rs}),or({},{normalizeIdentifier:()=>Ns}),or({},{getSatoshisAmountFromBolt11:()=>qs,getZapEndpoint:()=>Ts,makeZapReceipt:()=>Ps,makeZapRequest:()=>Cs,useFetchImplementation:()=>_s,validateZapRequest:()=>Hs});try{ks=fetch}catch{}function _s(t){ks=t}async function Ts(t){try{let e="",{lud06:n,lud16:r}=JSON.parse(t.content);if(n){let{words:t}=Ne.decode(n,1e3),r=Ne.fromWords(t);e=ar.decode(r)}else{if(!r)return null;{let[t,n]=r.split("@");e=new URL(`/.well-known/lnurlp/${t}`,`https://${n}`).toString()}}let o=await ks(e),i=await o.json();if(i.allowsNostr&&i.nostrPubkey)return i.callback}catch(t){}return null}function Cs({profile:t,event:e,amount:n,relays:r,comment:o=""}){if(!n)throw new Error("amount not given");if(!t)throw new Error("profile not given");let i={kind:9734,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",t],["amount",n.toString()],["relays",...r]]};if(e&&"string"==typeof e&&i.tags.push(["e",e]),e&&"object"==typeof e)if(xr(e.kind)){const t=["a",`${e.kind}:${e.pubkey}:`];i.tags.push(t)}else if(kr(e.kind)){let t=e.tags.find(([t,e])=>"d"===t&&e);if(!t)throw new Error("d tag not found or is empty");const n=["a",`${e.kind}:${e.pubkey}:${t[1]}`];i.tags.push(n)}return i}function Hs(t){let e;try{e=JSON.parse(t)}catch(t){return"Invalid zap request JSON."}if(!sr(e))return"Zap request is not a valid Nostr event.";if(!Er(e))return"Invalid signature on zap request.";let n=e.tags.find(([t,e])=>"p"===t&&e);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=e.tags.find(([t,e])=>"e"===t&&e);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":e.tags.find(([t,e])=>"relays"===t&&e)?null:"Zap request doesn't have a 'relays' tag."}function Ps({zapRequest:t,preimage:e,bolt11:n,paidAt:r}){let o=JSON.parse(t),i=o.tags.filter(([t])=>"e"===t||"p"===t||"a"===t),s={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...i,["P",o.pubkey],["bolt11",n],["description",t]]};return e&&s.tags.push(["preimage",e]),s}function qs(t){if(t.length<50)return 0;const e=(t=t.substring(0,50)).lastIndexOf("1");if(-1===e)return 0;const n=t.substring(0,e);if(!n.startsWith("lnbc"))return 0;const r=n.substring(4);if(r.length<1)return 0;const o=r[r.length-1],i=o.charCodeAt(0)-"0".charCodeAt(0),s=i>=0&&i<=9;let a=r.length-1;if(s&&a++,a<1)return 0;const c=parseInt(r.substring(0,a));switch(o){case"m":return 1e5*c;case"u":return 100*c;case"n":return c/10;case"p":return c/1e4;default:return 1e8*c}}or({},{getToken:()=>Ms,hashPayload:()=>Zs,unpackEventFromToken:()=>Ds,validateEvent:()=>Js,validateEventKind:()=>Ks,validateEventMethodTag:()=>Vs,validateEventPayloadTag:()=>Gs,validateEventTimestamp:()=>Ws,validateEventUrlTag:()=>Fs,validateToken:()=>zs});var js="Nostr ";async function Ms(t,e,n,r=!1,o){const i={kind:Uo,tags:[["u",t],["method",e]],created_at:Math.round((new Date).getTime()/1e3),content:""};o&&i.tags.push(["payload",Zs(o)]);const s=await n(i);return(r?js:"")+Ie.encode(cr.encode(JSON.stringify(s)))}async function zs(t,e,n){const r=await Ds(t).catch(t=>{throw t});return await Js(r,e,n).catch(t=>{throw t})}async function Ds(t){if(!t)throw new Error("Missing token");t=t.replace(js,"");const e=ar.decode(Ie.decode(t));if(!e||0===e.length||!e.startsWith("{"))throw new Error("Invalid token");return JSON.parse(e)}function Ws(t){return!!t.created_at&&Math.round((new Date).getTime()/1e3)-t.created_at<60}function Ks(t){return t.kind===Uo}function Fs(t,e){const n=t.tags.find(t=>"u"===t[0]);return!!n&&n.length>0&&n[1]===e}function Vs(t,e){const n=t.tags.find(t=>"method"===t[0]);return!!n&&n.length>0&&n[1].toLowerCase()===e.toLowerCase()}function Zs(t){return Gt(de(cr.encode(JSON.stringify(t))))}function Gs(t,e){const n=t.tags.find(t=>"payload"===t[0]);if(!n)return!1;const r=Zs(e);return n.length>0&&n[1]===r}async function Js(t,e,n,r){if(!Er(t))throw new Error("Invalid nostr event, signature invalid");if(!Ks(t))throw new Error("Invalid nostr event, kind invalid");if(!Ws(t))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!Fs(t,e))throw new Error("Invalid nostr event, url tag invalid");if(!Vs(t,n))throw new Error("Invalid nostr event, method tag invalid");if(Boolean(r)&&"object"==typeof r&&Object.keys(r).length>0&&!Gs(t,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}const Ys=window.ReactJSXRuntime,Xs=JSON.parse('{"UU":"create-block/nostr-post"}'),Qs=(0,Ys.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 533.31 533.31",style:{width:"100%",height:"auto"},children:[(0,Ys.jsx)("circle",{cx:"266.65",cy:"266.65",r:"256",style:{fill:"#fff",stroke:"#a915ff",strokeMiterlimit:10,strokeWidth:6}}),(0,Ys.jsx)("path",{d:"M374.82,278.35c.1,5.47-5.19,22.37-16.81,35.33-11.62,12.96-24.34,9.06-25.39,8.76s-1.34-1.94-3.43-1.64-4.17,2.68-8.19,3.13-7.6.74-11.32-.6c-1.94.3-2.23.31-3.13.97s-7.75,4.69-9.39,4.99c0,3.13-.6,19.37,0,24.29s1.64,11.17,3.28,15.64c1.64,4.47,1.19,4.62,3.28,4.32s5.81.15,6.85,1.79.6,2.83,2.38,3.58,26.37,7.45,43.21,8.34c11.62.3,18.62,1.19,22.65,8.49.6,3.43,3.28,5.66,4.92,6.11s3.58.89,5.21,2.53.45,3.58,2.38,5.07c1.94,1.49,6.41,3.72,11.03,5.96,4.62,2.23,6.56,5.81,6.85,7s.74,4.77.74,4.77c0,0-3.87,0-4.77-.89s-1.19-2.53-1.19-2.53c0,0-2.68.45-3.28,1.49s.3,1.19-3.43.3-5.07-1.64-7.9-3.72-7.15-7.45-10.88-7.3c1.79,3.58,2.53,3.58,4.62,4.77s3.58,2.53,3.58,2.53l-3.13,1.94s-1.94.89-6.41-.3c-4.47-1.19-5.07-1.94-5.51-4.62s0-4.02-1.19-6.26-1.79-6.85-9.68-9.24c-7.9-2.38-28.91-9.24-43.51-10.73-14.6-1.49-9.83-1.19-12.22-.6s-6.85,1.94-11.47-.6c-4.62-2.53-7.3-5.96-7.6-8.79s-.74-4.77,0-8.34,1.49-8.64.74-11.62-6.11-24.29-8.64-27.86c-5.66.45-22.05-.3-22.05-.3,0,0-1.04-.3-7.6,2.53-6.56,2.83-15.85,5.98-20.32,8.66-4.47,2.68-6.26,4.22-7,5.71.05,1.3-.53,3.35-1.21,3.94s-5.42,1.05-5.42,1.05c0,0-2.54,2.54-3.58,4.33-2.98,4.17-23.99,54.38-28.91,65.11-5.89,14.15-4.25,11.92-16.39,11.92s-3.5.13-3.5.13c0,0-5.36,2.55-7.3,2.55s-8.19-1.04-11.47,0-7.15,4.02-10.13,4.47c-2.98.45-2.15-.58-3.64-1.63-1.74-.09-6.2-.05-6.2-.05,0,0,.76-2.83,3.44-4.73,3.58-2.53,11.03-7,15.05-9.24,4.02-2.23,7.6-3.43,10.13-4.02,2.53-.6,8.05-2.68,13.26-4.32s8.49-3.58,12.96-13.71c4.47-10.13,21.9-48.42,22.35-50.51.28-1.29,1.62-2.81,2.09-6.56.29-2.32-1.08-5.67.74-9.83,4.77-10.88,9.39-8.79,11.47-8.79s7.45.15,11.47-.6c4.02-.74,6.7-1.19,10.73-3.43,4.02-2.23,4.92-3.87,4.92-3.87l-8.64-1.49s-8.05.3-10.88-1.94-6.7-6.85-6.7-6.85l-3.28-3.13.45,3.72s-2.23-3.87-2.83-4.47-3.72-2.83-4.92-4.92-3.28-10.88-3.28-10.88l-2.68,5.66-.74-8.19-2.23,3.13-1.19-7-2.09,3.58-1.49-6.26-2.53,1.94-1.04-4.47-2.53-1.49s-6.11-4.02-7.15-4.17-1.94,1.49-1.94,1.49l.6,5.21-5.3-2.72-3.04-5.17s1.02,1.74-4.18,3.27c-8.93,0-9.51-.99-10.83-1.71-.57-2.85-2.42-4.39-2.42-4.39h-8.94l-.15-2.98-3.43,1.34.3-4.47h-6.11l.45-4.92h-3.87s1.34-4.02,11.17-9.98c9.83-5.96,10.88-7.15,20.11-7.45,9.24-.3,14.3,1.19,20.11,3.58,5.81,2.38,16.84,5.96,19.07,7.6,4.92-4.32,12.37-8.64,14.9-8.64.45-1.04,2.69-5.36,7.81-7.65,15.34-6.87,46.99-14.78,57.16-15.45,13.56-.89,3.43-.6,16.99.89,13.56,1.49,23.54,3.28,30.25,5.51,5.46,1.82,10.88,4.17,14.9.89,1.88-.79,5.13-.58,7.75-2.23,13.34-10.9,15.09-14.06,18.96-18.23,3.87-4.17,8.75-10.83,9.8-19.62s1.94-25.33-4.62-38.29c-6.56-12.96-12.52-19.67-15.05-30.1-2.53-10.43-3.58-26.52-2.68-31.74s2.23-9.68,2.98-13.26,4.32-6.41,8.64-7.15c4.32-.74,7.75.6,9.68,2.09s5.06,2.73,5.81,4.47c.15.74-.6,2.83,3.58,3.58s6.97,1.81,6.97,1.81c0,0,6.8,1.87,1.35,3.36-5.51.89-8.92-.31-10.56.74s-3.13,4.38-4.17,4.83-3.13.15-5.21,1.79-4.17,2.98-5.51,6.26-2.38,6.85-1.49,11.62,3.72,13.71,6.26,18.77c2.53,5.07,8.79,17.73,10.58,20.71s6.85,12.81,7.3,23.39.45,19.22,0,23.84c-.45,4.62-4.71,22.45-15.44,37.35-3.54,6.14-10.09,13.86-10.72,15.22s-1.31,2.12-.7,3.32c2.01,3.93,5.59,9.62,6.39,12.7,1,2.89,3.04,7.01,3.14,12.48Z",style:{fill:"#a915ff",stroke:"#a915ff",strokeMiterlimit:10,strokeWidth:6}})]});(0,o.registerBlockType)(Xs.UU,{icon:Qs,edit:function({attributes:t,setAttributes:e}){const{id:n}=t,[r,o]=(0,a.useState)(null);return(0,a.useEffect)(()=>{const t=function(t){try{const e=oi.decode(t);if("nevent"===e.type){const t=e.data.id;return{type:"nevent",id:t,note:oi.noteEncode(t),pubkey:e.data.pubkey,relays:e.data.relays||[]}}return{type:e.type,error:"Provided input is not a nevent."}}catch(t){return{type:"invalid",error:t.message||"Invalid NIP-19 string."}}}(n);o("nevent"===t?.type?t.note:null)},[n]),(0,a.useEffect)(()=>{if(!r)return;const t=document.querySelector('iframe[name="editor-canvas"]');if(!t||!t.contentDocument)return;const e=t.contentDocument,n="nostr-post-script";if(!e.getElementById(n)){const t=e.createElement("script");t.type="module",t.src="https://nostr-components.web.app/dist/nostr-post.js",t.id=n,e.body.appendChild(t)}return()=>{const t=e.getElementById(n);t&&t.remove()}},[r]),(0,Ys.jsxs)("div",{...(0,s.useBlockProps)(),children:[(0,Ys.jsx)(s.InspectorControls,{children:(0,Ys.jsx)(i.PanelBody,{title:"Nostr Post Settings",children:(0,Ys.jsx)(i.TextControl,{label:"Nevent or Note ID",value:n,onChange:t=>e({id:t}),placeholder:"nevent1..."})})}),(0,Ys.jsx)("div",{className:"nostr-profile-container",style:{backgroundColor:"black",color:"white"},children:r?(0,Ys.jsx)("nostr-post",{id:r}):(0,Ys.jsx)("p",{children:"Enter a valid nevent to display post"})})]})},save:function({attributes:t}){return(0,Ys.jsx)("div",{...s.useBlockProps.save(),children:(0,Ys.jsx)("nostr-post",{id:t.id})})}})}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,r),i.exports}r.m=e,t=[],r.O=(e,n,o,i)=>{if(!n){var s=1/0;for(f=0;f<t.length;f++){for(var[n,o,i]=t[f],a=!0,c=0;c<n.length;c++)(!1&i||s>=i)&&Object.keys(r.O).every(t=>r.O[t](n[c]))?n.splice(c--,1):(a=!1,i<s&&(s=i));if(a){t.splice(f--,1);var u=o();void 0!==u&&(e=u)}}return e}i=i||0;for(var f=t.length;f>0&&t[f-1][2]>i;f--)t[f]=t[f-1];t[f]=[n,o,i]},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={175:0,271:0};r.O.j=e=>0===t[e];var e=(e,n)=>{var o,i,[s,a,c]=n,u=0;if(s.some(e=>0!==t[e])){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(c)var f=c(r)}for(e&&e(n);u<s.length;u++)i=s[u],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(f)},n=globalThis.webpackChunknostr_components=globalThis.webpackChunknostr_components||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var o=r.O(void 0,[271],()=>r(955));o=r.O(o)})();